var Pt=Object.defineProperty;var It=(n,e,t)=>e in n?Pt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ve=(n,e,t)=>It(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function V(){}function yt(n){return n()}function Xe(){return Object.create(null)}function ee(n){n.forEach(yt)}function wt(n){return typeof n=="function"}function pe(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function $t(n){return Object.keys(n).length===0}function f(n,e){n.appendChild(e)}function I(n,e,t){n.insertBefore(e,t||null)}function E(n){n.parentNode&&n.parentNode.removeChild(n)}function Le(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function _(n){return document.createElement(n)}function z(n){return document.createTextNode(n)}function S(){return z(" ")}function Qe(){return z("")}function U(n,e,t,l){return n.addEventListener(e,t,l),()=>n.removeEventListener(e,t,l)}function d(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Tt(n){return Array.from(n.childNodes)}function H(n,e){e=""+e,n.data!==e&&(n.data=e)}function qt(n,e){n.value=e??""}function Ne(n,e,t){for(let l=0;l<n.options.length;l+=1){const s=n.options[l];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function Ze(n){const e=n.querySelector(":checked");return e&&e.__value}let qe;function we(n){qe=n}function Mt(){if(!qe)throw new Error("Function called outside component initialization");return qe}function Oe(n){Mt().$$.on_mount.push(n)}const he=[],xe=[];let _e=[];const et=[],zt=Promise.resolve();let Je=!1;function Nt(){Je||(Je=!0,zt.then(Ct))}function Ce(n){_e.push(n)}const De=new Set;let de=0;function Ct(){if(de!==0)return;const n=qe;do{try{for(;de<he.length;){const e=he[de];de++,we(e),Ot(e.$$)}}catch(e){throw he.length=0,de=0,e}for(we(null),he.length=0,de=0;xe.length;)xe.pop()();for(let e=0;e<_e.length;e+=1){const t=_e[e];De.has(t)||(De.add(t),t())}_e.length=0}while(he.length);for(;et.length;)et.pop()();Je=!1,De.clear(),we(n)}function Ot(n){if(n.fragment!==null){n.update(),ee(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Ce)}}function Lt(n){const e=[],t=[];_e.forEach(l=>n.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),_e=e}const ze=new Set;let ie;function Re(){ie={r:0,c:[],p:ie}}function Ae(){ie.r||ee(ie.c),ie=ie.p}function J(n,e){n&&n.i&&(ze.delete(n),n.i(e))}function Y(n,e,t,l){if(n&&n.o){if(ze.has(n))return;ze.add(n),ie.c.push(()=>{ze.delete(n),l&&(t&&n.d(1),l())}),n.o(e)}else l&&l()}function ce(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ge(n){n&&n.c()}function ue(n,e,t){const{fragment:l,after_update:s}=n.$$;l&&l.m(e,t),Ce(()=>{const o=n.$$.on_mount.map(yt).filter(wt);n.$$.on_destroy?n.$$.on_destroy.push(...o):ee(o),n.$$.on_mount=[]}),s.forEach(Ce)}function fe(n,e){const t=n.$$;t.fragment!==null&&(Lt(t.after_update),ee(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Rt(n,e){n.$$.dirty[0]===-1&&(he.push(n),Nt(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Be(n,e,t,l,s,o,c=null,u=[-1]){const r=qe;we(n);const i=n.$$={fragment:null,ctx:[],props:o,update:V,not_equal:s,bound:Xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:Xe(),dirty:u,skip_bound:!1,root:e.target||r.$$.root};c&&c(i.root);let a=!1;if(i.ctx=t?t(n,e.props||{},(m,h,...g)=>{const v=g.length?g[0]:h;return i.ctx&&s(i.ctx[m],i.ctx[m]=v)&&(!i.skip_bound&&i.bound[m]&&i.bound[m](v),a&&Rt(n,m)),h}):[],i.update(),a=!0,ee(i.before_update),i.fragment=l?l(i.ctx):!1,e.target){if(e.hydrate){const m=Tt(e.target);i.fragment&&i.fragment.l(m),m.forEach(E)}else i.fragment&&i.fragment.c();e.intro&&J(n.$$.fragment),ue(n,e.target,e.anchor),Ct()}we(r)}class Ue{constructor(){Ve(this,"$$");Ve(this,"$$set")}$destroy(){fe(this,1),this.$destroy=V}$on(e,t){if(!wt(t))return V;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const s=l.indexOf(t);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!$t(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const At="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(At);const ne=[{id:"01-vazduhoplovni-propisi",title:"Vazduhoplovni propisi"},{id:"02-opste-poznavanje-vazduhoplova",title:"Opšte poznavanje vazduhoplova"},{id:"03-performanse",title:"Performanse i planiranje"},{id:"04-ljudske-mogucnosti",title:"Ljudske mogućnosti"},{id:"05-meteorologija",title:"Meteorologija"},{id:"06-navigacija",title:"Navigacija"},{id:"07-operativne-procedure",title:"Operativne procedure"},{id:"08-teorija-letenja",title:"Teorija letenja"},{id:"09-komunikacije",title:"Komunikacije"}],me=[];function Bt(n,e=V){let t;const l=new Set;function s(u){if(pe(n,u)&&(n=u,t)){const r=!me.length;for(const i of l)i[1](),me.push(i,n);if(r){for(let i=0;i<me.length;i+=2)me[i][0](me[i+1]);me.length=0}}}function o(u){s(u(n))}function c(u,r=V){const i=[u,r];return l.add(i),l.size===1&&(t=e(s,o)||V),u(n),()=>{l.delete(i),l.size===0&&t&&(t(),t=null)}}return{set:s,update:o,subscribe:c}}const tt="ppl.theme.mode";function Ut(){return typeof window>"u"?"light":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Ye(n){if(typeof document>"u")return;const e=document.documentElement;e.classList.remove("theme-light","theme-dark");const t=n==="system"?Ut():n;e.classList.add(t==="dark"?"theme-dark":"theme-light");const l=document.querySelector('meta[name="theme-color"]');try{const s=getComputedStyle(e).getPropertyValue("--bg").trim();l&&s&&(l.content=s)}catch{}}const Se=Bt("system");let Me=null;function Gt(){let n;Se.subscribe(t=>n=t)(),n==="system"&&Ye("system")}function Kt(){var e;if(typeof window>"u")return;const n=localStorage.getItem(tt)||"system";Se.set(n),Ye(n),Se.subscribe(t=>{try{localStorage.setItem(tt,t)}catch{}Ye(t)}),window.matchMedia&&(Me=window.matchMedia("(prefers-color-scheme: dark)"),(e=Me.addEventListener)==null||e.call(Me,"change",Gt))}function Fe(n){Se.set(n)}function Vt(n){let e,t,l,s,o,c,u,r,i,a,m,h,g,v;return{c(){e=_("div"),t=_("button"),l=z("☀️"),o=S(),c=_("button"),u=z("🌙"),i=S(),a=_("button"),m=z("⚙️"),d(t,"class","btn svelte-80rqza"),d(t,"aria-label","Light"),d(t,"data-active",s=n[0]==="light"),d(c,"class","btn svelte-80rqza"),d(c,"aria-label","Dark"),d(c,"data-active",r=n[0]==="dark"),d(a,"class","btn svelte-80rqza"),d(a,"aria-label","System"),d(a,"data-active",h=n[0]==="system"),d(e,"class","themeToggle svelte-80rqza")},m(q,p){I(q,e,p),f(e,t),f(t,l),f(e,o),f(e,c),f(c,u),f(e,i),f(e,a),f(a,m),g||(v=[U(t,"click",n[1]),U(c,"click",n[2]),U(a,"click",n[3])],g=!0)},p(q,[p]){p&1&&s!==(s=q[0]==="light")&&d(t,"data-active",s),p&1&&r!==(r=q[0]==="dark")&&d(c,"data-active",r),p&1&&h!==(h=q[0]==="system")&&d(a,"data-active",h)},i:V,o:V,d(q){q&&E(e),g=!1,ee(v)}}}function Dt(n,e,t){let l;const s=()=>Fe("light"),o=()=>Fe("dark"),c=()=>Fe("system");return Se.subscribe(u=>t(0,l=u)),[l,s,o,c]}class Ge extends Ue{constructor(e){super(),Be(this,e,Dt,Vt,pe,{})}}const x="__errors__",St="ppl.errors.v1";function Ft(){try{const n=localStorage.getItem(St);if(!n)return[];const e=JSON.parse(n);return Array.isArray(e)?e.filter(t=>t&&typeof t=="object"&&"subjectId"in t&&"questionId"in t):[]}catch{return[]}}function We(n){try{localStorage.setItem(St,JSON.stringify(n))}catch{}}function Ke(){const n=Ft(),e=new Set,t=[];for(const l of n){const s=`${l.subjectId}::${l.questionId}`;e.has(s)||(e.add(s),t.push(l))}return t.length!==n.length&&We(t),t}function nt(n,e){const t=Ke(),l=`${n}::${e}`;t.some(o=>`${o.subjectId}::${o.questionId}`===l)||(t.push({subjectId:n,questionId:e}),We(t))}function Ht(n,e){const l=Ke().filter(s=>!(s.subjectId===n&&s.questionId===e));We(l)}function Jt(){return Ke().length}function lt(){const n=new Map;for(const{subjectId:e,questionId:t}of Ke())n.has(e)||n.set(e,new Set),n.get(e).add(t);return n}function st(n,e,t){const l=n.slice();return l[44]=e[t],l[46]=t,l}function ot(n,e,t){const l=n.slice();return l[47]=e[t],l[46]=t,l}function Yt(n,e,t){const l=n.slice();return l[41]=e[t],l}function Qt(n){let e=n[5],t,l,s=ht(n);return{c(){s.c(),t=Qe()},m(o,c){s.m(o,c),I(o,t,c),l=!0},p(o,c){c[0]&32&&pe(e,e=o[5])?(Re(),Y(s,1,1,V),Ae(),s=ht(o),s.c(),J(s,1),s.m(t.parentNode,t)):s.p(o,c)},i(o){l||(J(s),l=!0)},o(o){Y(s),l=!1},d(o){o&&E(t),s.d(o)}}}function Wt(n){let e,t,l,s=n[4].subject+"",o,c,u,r,i,a,m,h,g,v;const q=[on,sn],p=[];function M(k,T){return k[13]?0:1}r=M(n),i=p[r]=q[r](n);let y=n[8]&&_t(n);return{c(){e=_("div"),t=_("header"),l=_("h1"),o=z(s),c=S(),u=_("div"),i.c(),a=S(),m=_("main"),y&&y.c(),h=S(),g=_("p"),g.textContent="Nema pitanja u setu.",d(l,"class","svelte-jumjr4"),d(u,"class","toolbar svelte-jumjr4"),d(t,"class","svelte-jumjr4"),d(m,"class","svelte-jumjr4"),d(e,"class","page svelte-jumjr4")},m(k,T){I(k,e,T),f(e,t),f(t,l),f(l,o),f(t,c),f(t,u),p[r].m(u,null),f(e,a),f(e,m),y&&y.m(m,null),f(m,h),f(m,g),v=!0},p(k,T){(!v||T[0]&16)&&s!==(s=k[4].subject+"")&&H(o,s);let A=r;r=M(k),r===A?p[r].p(k,T):(Re(),Y(p[A],1,1,()=>{p[A]=null}),Ae(),i=p[r],i?i.p(k,T):(i=p[r]=q[r](k),i.c()),J(i,1),i.m(u,null)),k[8]?y?y.p(k,T):(y=_t(k),y.c(),y.m(m,h)):y&&(y.d(1),y=null)},i(k){v||(J(i),v=!0)},o(k){Y(i),v=!1},d(k){k&&E(e),p[r].d(),y&&y.d()}}}function Xt(n){let e;return{c(){e=_("div"),e.innerHTML='<header class="svelte-jumjr4"><h1 class="svelte-jumjr4">Priprema PPL</h1></header> <main class="svelte-jumjr4"><p>Učitavanje…</p></main>',d(e,"class","page svelte-jumjr4")},m(t,l){I(t,e,l)},p:V,i:V,o:V,d(t){t&&E(e)}}}function Zt(n){let e=n[5]+1+"",t,l,s=n[4].questions.length+"",o;return{c(){t=z(e),l=z("/"),o=z(s)},m(c,u){I(c,t,u),I(c,l,u),I(c,o,u)},p(c,u){u[0]&32&&e!==(e=c[5]+1+"")&&H(t,e),u[0]&16&&s!==(s=c[4].questions.length+"")&&H(o,s)},d(c){c&&(E(t),E(l),E(o))}}}function xt(n){let e=n[11]+1+"",t,l,s=n[1].length+"",o;return{c(){t=z(e),l=z("/"),o=z(s)},m(c,u){I(c,t,u),I(c,l,u),I(c,o,u)},p(c,u){u[0]&2048&&e!==(e=c[11]+1+"")&&H(t,e),u[0]&2&&s!==(s=c[1].length+"")&&H(o,s)},d(c){c&&(E(t),E(l),E(o))}}}function rt(n){let e,t,l,s,o,c;return{c(){e=_("label"),t=_("input"),l=S(),s=_("span"),s.textContent="Simuliraj ispit",d(t,"type","checkbox"),t.checked=n[10],d(s,"class","label-text svelte-jumjr4"),d(e,"class","exam-toggle svelte-jumjr4")},m(u,r){I(u,e,r),f(e,t),f(e,l),f(e,s),o||(c=U(t,"change",n[25]),o=!0)},p(u,r){r[0]&1024&&(t.checked=u[10])},d(u){u&&E(e),o=!1,c()}}}function it(n){let e,t,l,s,o,c,u,r=n[4].questions.length+"",i,a,m,h=ce(n[4].questions),g=[];for(let v=0;v<h.length;v+=1)g[v]=ct(ot(n,h,v));return{c(){e=_("div"),t=_("label"),t.textContent="Питање",l=S(),s=_("select");for(let v=0;v<g.length;v+=1)g[v].c();o=S(),c=_("small"),u=z("од "),i=z(r),d(t,"for","qselect"),d(t,"class","svelte-jumjr4"),d(s,"id","qselect"),d(s,"class","svelte-jumjr4"),n[5]===void 0&&Ce(()=>n[30].call(s)),d(c,"class","svelte-jumjr4"),d(e,"class","qnav svelte-jumjr4")},m(v,q){I(v,e,q),f(e,t),f(e,l),f(e,s);for(let p=0;p<g.length;p+=1)g[p]&&g[p].m(s,null);Ne(s,n[5],!0),f(e,o),f(e,c),f(c,u),f(c,i),a||(m=[U(s,"change",n[20]),U(s,"change",n[30])],a=!0)},p(v,q){if(q[0]&16){h=ce(v[4].questions);let p;for(p=0;p<h.length;p+=1){const M=ot(v,h,p);g[p]?g[p].p(M,q):(g[p]=ct(M),g[p].c(),g[p].m(s,null))}for(;p<g.length;p+=1)g[p].d(1);g.length=h.length}q[0]&32&&Ne(s,v[5]),q[0]&16&&r!==(r=v[4].questions.length+"")&&H(i,r)},d(v){v&&E(e),Le(g,v),a=!1,ee(m)}}}function ct(n){let e;return{c(){e=_("option"),e.textContent=`${n[46]+1}`,e.__value=n[46],qt(e,e.__value)},m(t,l){I(t,e,l)},p:V,d(t){t&&E(e)}}}function ut(n){let e,t=n[44].text+"",l,s,o,c,u;function r(){return n[31](n[46])}return{c(){e=_("button"),l=z(t),s=S(),d(e,"class",o="option "+(n[9]!==null&&n[44].isCorrect?"correct":"")+" "+(n[9]===n[46]&&!n[44].isCorrect?"wrong":"")+" svelte-jumjr4")},m(i,a){I(i,e,a),f(e,l),f(e,s),c||(u=U(e,"click",r),c=!0)},p(i,a){n=i,a[0]&64&&t!==(t=n[44].text+"")&&H(l,t),a[0]&576&&o!==(o="option "+(n[9]!==null&&n[44].isCorrect?"correct":"")+" "+(n[9]===n[46]&&!n[44].isCorrect?"wrong":"")+" svelte-jumjr4")&&d(e,"class",o)},d(i){i&&E(e),c=!1,u()}}}function ft(n){let e,t=n[4].questions[n[5]].comment+"",l;return{c(){e=_("div"),l=z(t),d(e,"class","comment svelte-jumjr4")},m(s,o){I(s,e,o),f(e,l)},p(s,o){o[0]&48&&t!==(t=s[4].questions[s[5]].comment+"")&&H(l,t)},d(s){s&&E(e)}}}function at(n){let e,t=n[2]>0&&dt(n);return{c(){e=_("div"),t&&t.c(),d(e,"class","exam-result svelte-jumjr4")},m(l,s){I(l,e,s),t&&t.m(e,null)},p(l,s){l[2]>0?t?t.p(l,s):(t=dt(l),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(l){l&&E(e),t&&t.d()}}}function dt(n){let e,t,l,s,o,c,u,r,i,a,m,h,g,v,q,p,M,y,k;function T(w,O){return w[14]?tn:en}let A=T(n),$=A(n);return{c(){e=_("div"),t=_("h2"),t.textContent="Rezultat ispita",l=S(),s=_("p"),o=_("strong"),c=z(n[3]),u=z(" / "),r=z(n[2]),i=z(" ("),a=z(n[15]),m=z("%)"),h=S(),$.c(),g=S(),v=_("div"),q=_("button"),q.textContent="Ponovi ispit",p=S(),M=_("button"),M.textContent="Izađi iz ispita",d(t,"class","svelte-jumjr4"),d(v,"class","actions svelte-jumjr4"),d(e,"class","exam-summary svelte-jumjr4")},m(w,O){I(w,e,O),f(e,t),f(e,l),f(e,s),f(s,o),f(o,c),f(s,u),f(s,r),f(s,i),f(s,a),f(s,m),f(e,h),$.m(e,null),f(e,g),f(e,v),f(v,q),f(v,p),f(v,M),y||(k=[U(q,"click",n[27]),U(M,"click",n[24])],y=!0)},p(w,O){O[0]&8&&H(c,w[3]),O[0]&4&&H(r,w[2]),O[0]&32768&&H(a,w[15]),A!==(A=T(w))&&($.d(1),$=A(w),$&&($.c(),$.m(e,g)))},d(w){w&&E(e),$.d(),y=!1,ee(k)}}}function en(n){let e;return{c(){e=_("p"),e.textContent="Niste položili ispit.",d(e,"class","fail svelte-jumjr4")},m(t,l){I(t,e,l)},d(t){t&&E(e)}}}function tn(n){let e;return{c(){e=_("p"),e.textContent="Položili ste ispit.",d(e,"class","pass svelte-jumjr4")},m(t,l){I(t,e,l)},d(t){t&&E(e)}}}function mt(n){let e,t,l,s,o,c;return{c(){e=_("div"),t=_("button"),t.textContent="Prikaži tačan odgovor",l=S(),s=_("button"),s.textContent="Pitaj AI",d(t,"class","btn btn-success-outline svelte-jumjr4"),d(s,"class","btn btn-info svelte-jumjr4"),d(e,"class","bottomActions svelte-jumjr4")},m(u,r){I(u,e,r),f(e,t),f(e,l),f(e,s),o||(c=[U(t,"click",n[22]),U(s,"click",n[23])],o=!0)},p:V,d(u){u&&E(e),o=!1,ee(c)}}}function nn(n){let e,t,l;return{c(){e=_("button"),e.textContent="Završi ispit",d(e,"class","btn btn-warning svelte-jumjr4")},m(s,o){I(s,e,o),t||(l=U(e,"click",n[26]),t=!0)},p:V,d(s){s&&E(e),t=!1,l()}}}function ln(n){let e,t,l;return{c(){e=_("button"),e.textContent="Slučajno",d(e,"class","btn btn-secondary svelte-jumjr4")},m(s,o){I(s,e,o),t||(l=U(e,"click",n[18]),t=!0)},p:V,d(s){s&&E(e),t=!1,l()}}}function ht(n){let e,t,l,s=n[4].subject+"",o,c,u,r,i,a,m,h=n[4].lang+"",g,v,q,p,M,y,k,T,A,$=n[4].questions[n[5]].question+"",w,O,L,te,Ee,Pe,be,le,je,X,oe,Ie,ve,re,Z,ke,$e;function Te(j,G){return j[10]?xt:Zt}let ae=Te(n),Q=ae(n);p=new Ge({});let D=!n[13]&&rt(n),b=!n[10]&&it(n),C=ce(n[6]),P=[];for(let j=0;j<C.length;j+=1)P[j]=ut(st(n,C,j));let N=n[4].questions[n[5]].comment&&!n[10]&&ft(n),B=n[10]&&n[12]&&at(n),R=!n[10]&&mt(n);function se(j,G){return j[10]?nn:ln}let W=se(n),F=W(n);return{c(){e=_("div"),t=_("header"),l=_("h1"),o=z(s),c=S(),u=_("div"),r=_("button"),r.textContent="← Predmeti",i=S(),a=_("small"),m=z("#"),g=z(h),v=z(` ·
              `),Q.c(),q=S(),ge(p.$$.fragment),M=S(),D&&D.c(),y=S(),k=_("main"),T=_("div"),A=_("div"),w=z($),O=S(),b&&b.c(),L=S(),te=_("div");for(let j=0;j<P.length;j+=1)P[j].c();Ee=S(),N&&N.c(),Pe=S(),B&&B.c(),be=S(),le=_("div"),R&&R.c(),je=S(),X=_("nav"),oe=_("button"),oe.textContent="← Nazad",Ie=S(),F.c(),ve=S(),re=_("button"),re.textContent="Sledeće →",d(l,"class","svelte-jumjr4"),d(r,"class","back svelte-jumjr4"),d(a,"class","svelte-jumjr4"),d(u,"class","toolbar svelte-jumjr4"),d(t,"class","svelte-jumjr4"),d(A,"class","question svelte-jumjr4"),d(te,"class","options svelte-jumjr4"),d(T,"class","card svelte-jumjr4"),d(oe,"class","btn btn-neutral svelte-jumjr4"),d(re,"class","btn btn-primary svelte-jumjr4"),d(X,"class","bottomNav svelte-jumjr4"),d(le,"class","bottomBar svelte-jumjr4"),d(k,"class","svelte-jumjr4"),d(e,"class","page svelte-jumjr4")},m(j,G){I(j,e,G),f(e,t),f(t,l),f(l,o),f(t,c),f(t,u),f(u,r),f(u,i),f(u,a),f(a,m),f(a,g),f(a,v),Q.m(a,null),f(u,q),ue(p,u,null),f(u,M),D&&D.m(u,null),f(e,y),f(e,k),f(k,T),f(T,A),f(A,w),f(T,O),b&&b.m(T,null),f(T,L),f(T,te);for(let K=0;K<P.length;K+=1)P[K]&&P[K].m(te,null);f(T,Ee),N&&N.m(T,null),f(k,Pe),B&&B.m(k,null),f(k,be),f(k,le),R&&R.m(le,null),f(le,je),f(le,X),f(X,oe),f(X,Ie),F.m(X,null),f(X,ve),f(X,re),Z=!0,ke||($e=[U(r,"click",Et),U(oe,"click",n[17]),U(re,"click",n[16])],ke=!0)},p(j,G){if((!Z||G[0]&16)&&s!==(s=j[4].subject+"")&&H(o,s),(!Z||G[0]&16)&&h!==(h=j[4].lang+"")&&H(g,h),ae===(ae=Te(j))&&Q?Q.p(j,G):(Q.d(1),Q=ae(j),Q&&(Q.c(),Q.m(a,null))),j[13]?D&&(D.d(1),D=null):D?D.p(j,G):(D=rt(j),D.c(),D.m(u,null)),(!Z||G[0]&48)&&$!==($=j[4].questions[j[5]].question+"")&&H(w,$),j[10]?b&&(b.d(1),b=null):b?b.p(j,G):(b=it(j),b.c(),b.m(T,L)),G[0]&2097856){C=ce(j[6]);let K;for(K=0;K<C.length;K+=1){const ye=st(j,C,K);P[K]?P[K].p(ye,G):(P[K]=ut(ye),P[K].c(),P[K].m(te,null))}for(;K<P.length;K+=1)P[K].d(1);P.length=C.length}j[4].questions[j[5]].comment&&!j[10]?N?N.p(j,G):(N=ft(j),N.c(),N.m(T,null)):N&&(N.d(1),N=null),j[10]&&j[12]?B?B.p(j,G):(B=at(j),B.c(),B.m(k,be)):B&&(B.d(1),B=null),j[10]?R&&(R.d(1),R=null):R?R.p(j,G):(R=mt(j),R.c(),R.m(le,je)),W===(W=se(j))&&F?F.p(j,G):(F.d(1),F=W(j),F&&(F.c(),F.m(X,ve)))},i(j){Z||(J(p.$$.fragment,j),Z=!0)},o(j){Y(p.$$.fragment,j),Z=!1},d(j){j&&E(e),Q.d(),fe(p),D&&D.d(),b&&b.d(),Le(P,j),N&&N.d(),B&&B.d(),R&&R.d(),F.d(),ke=!1,ee($e)}}}function sn(n){let e,t,l,s,o,c,u,r,i=ce(ne),a=[];for(let m=0;m<i.length;m+=1)a[m]=rn(Yt(n,i,m));return o=new Ge({}),{c(){e=_("label"),e.textContent="Predmet",t=S(),l=_("select");for(let m=0;m<a.length;m+=1)a[m].c();s=S(),ge(o.$$.fragment),d(e,"for","subject"),d(e,"class","svelte-jumjr4"),d(l,"id","subject"),d(l,"class","svelte-jumjr4"),n[0]===void 0&&Ce(()=>n[29].call(l))},m(m,h){I(m,e,h),I(m,t,h),I(m,l,h);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(l,null);Ne(l,n[0],!0),I(m,s,h),ue(o,m,h),c=!0,u||(r=[U(l,"change",n[29]),U(l,"change",n[19])],u=!0)},p(m,h){h[0]&1&&Ne(l,m[0])},i(m){c||(J(o.$$.fragment,m),c=!0)},o(m){Y(o.$$.fragment,m),c=!1},d(m){m&&(E(e),E(t),E(l),E(s)),Le(a,m),fe(o,m),u=!1,ee(r)}}}function on(n){let e,t,l,s,o,c;return l=new Ge({}),{c(){e=_("button"),e.textContent="← Predmeti",t=S(),ge(l.$$.fragment),d(e,"class","back svelte-jumjr4")},m(u,r){I(u,e,r),I(u,t,r),ue(l,u,r),s=!0,o||(c=U(e,"click",Et),o=!0)},p:V,i(u){s||(J(l.$$.fragment,u),s=!0)},o(u){Y(l.$$.fragment,u),s=!1},d(u){u&&(E(e),E(t)),fe(l,u),o=!1,c()}}}function rn(n){let e;return{c(){e=_("option"),e.textContent=`${n[41].title}`,e.__value=n[41].id,qt(e,e.__value)},m(t,l){I(t,e,l)},p:V,d(t){t&&E(e)}}}function _t(n){let e,t;return{c(){e=_("div"),t=z(n[8]),d(e,"class","errorBox svelte-jumjr4")},m(l,s){I(l,e,s),f(e,t)},p(l,s){s[0]&256&&H(t,l[8])},d(l){l&&E(e)}}}function cn(n){let e,t,l,s;const o=[Xt,Wt,Qt],c=[];function u(r,i){return r[4]?r[4].questions.length===0?1:2:0}return e=u(n),t=c[e]=o[e](n),{c(){t.c(),l=Qe()},m(r,i){c[e].m(r,i),I(r,l,i),s=!0},p(r,i){let a=e;e=u(r),e===a?c[e].p(r,i):(Re(),Y(c[a],1,1,()=>{c[a]=null}),Ae(),t=c[e],t?t.p(r,i):(t=c[e]=o[e](r),t.c()),J(t,1),t.m(l.parentNode,l))},i(r){s||(J(t),s=!0)},o(r){Y(t),s=!1},d(r){r&&E(l),c[e].d(r)}}}const He="ppl.index.",pt="ppl.subject";function gt(n){const e=[...n];for(let t=e.length-1;t>0;t--){const l=Math.floor(Math.random()*(t+1));[e[t],e[l]]=[e[l],e[t]]}return e}function Et(){location.hash="#/"}function un(n,e,t){let l,s,o,c,u,r=null,i=0,a=[],m=!1,h="01-vazduhoplovni-propisi",g="",v=null,q=null,p=!1,M=[],y=0,k=[],T=!1;function A(b){return!!b&&(b===x||ne.some(C=>C.id===b))}function $(b){const C=ne.find(P=>P.id===b);return b===x?"Greške":C?C.title:"PPL"}async function w(b){const C=location.hash||"",P=new URLSearchParams(C.split("?")[1]||""),N=new URLSearchParams(location.search),B=b||P.get("s")||N.get("s")||localStorage.getItem(pt)||ne[0].id;if(t(0,h=A(B)?B:ne[0].id),t(8,g=""),h===x){const R=lt(),se=[];for(const[W,F]of R.entries())try{const G=await fetch(`/ppl2025/data/${W}.json`,{cache:"no-store"});if(!G.ok)continue;const K=await G.json();for(const ye of K.questions)F.has(ye.id)&&se.push({...ye})}catch{}t(4,r={subject:$(x),lang:"sr",version:1,questions:se}),t(5,i=0),O();return}else{try{const W=await fetch(`/ppl2025/data/${h}.json`,{cache:"no-store"});if(!W.ok)throw new Error(`HTTP ${W.status}`);t(4,r=await W.json())}catch{if(h!==ne[0].id){t(0,h=ne[0].id);try{const F=await fetch(`/ppl2025/data/${h}.json`,{cache:"no-store"});if(!F.ok)throw new Error(`HTTP ${F.status}`);t(4,r=await F.json()),t(8,g="Није нађен сет за претходни предмет. Учитан је подразумевани предмет.")}catch{t(8,g="Није нађен ниједан сет питања."),t(4,r={subject:$(h),lang:"sr",version:1,questions:[]})}}else t(8,g="Није нађен сет питања за изабрани предмет."),t(4,r={subject:$(h),lang:"sr",version:1,questions:[]})}const R=Number(localStorage.getItem(He+h)||"0");t(5,i=Number.isFinite(R)&&R>=0&&R<r.questions.length?R:0),O()}}function O(){if(t(7,m=!1),!r)return;const b=r.questions[i];t(6,a=gt(b.options||[])),t(9,v=null),q!==null&&(clearTimeout(q),q=null),p||localStorage.setItem(He+h,String(i)),localStorage.setItem(pt,h);const C=new URL(location.href);C.hash=`#/quiz?s=${h}`,history.replaceState(null,"",C)}function L(){r&&(p&&M.length>0?(t(11,y=Math.min(y+1,M.length-1)),t(5,i=M[y])):t(5,i=(i+1)%r.questions.length),O())}function te(){r&&(p&&M.length>0?(t(11,y=Math.max(y-1,0)),t(5,i=M[y])):t(5,i=(i-1+r.questions.length)%r.questions.length),O())}function Ee(){if(r&&!(p&&M.length>0)){if(h===x){t(5,i=Math.floor(Math.random()*r.questions.length)),O();return}t(5,i=Math.floor(Math.random()*r.questions.length)),O()}}function Pe(b){const C=(r==null?void 0:r.subject)??"PPL",P=b.options.map((N,B)=>`${String.fromCharCode(65+B)}. ${N.text}`).join(`
`);return`Објасни зашто је тачан одговор за предмет ${C} (PPL).
Питање: ${b.question}
Понудени одговори:
${P}`}function be(b){const C=Pe(b),P=`https://chat.openai.com/?q=${encodeURIComponent(C)}`;window.open(P,"_blank")}function le(b){h!==b&&(t(0,h=b),t(5,i=0),b!==x&&localStorage.setItem(He+h,"0"),t(7,m=!1),Z(),w(h))}function je(b){const P=b.target.value;le(P)}function X(b){const C=b.target,P=Number(C.value);Number.isFinite(P)&&(t(5,i=Math.min(Math.max(P,0),((r==null?void 0:r.questions.length)??1)-1)),O())}function oe(b){var P;t(9,v=b);const C=!!((P=a[b])!=null&&P.isCorrect);if(p&&!T&&M.length>0)(k[y]===null||k[y]===void 0)&&t(28,k[y]=C,k);else if(C)if(q!==null&&clearTimeout(q),q=null,h===x){const N=r.questions[i],B=lt();for(const[R,se]of B.entries())se.has(N.id)&&Ht(R,N.id);w(x)}else L();if(!C&&h!==x&&!p){const N=r.questions[i].id;nt(h,N)}}function Ie(){const b=a.findIndex(C=>C.isCorrect);b!==-1&&(t(9,v=b),q!==null&&(clearTimeout(q),q=null))}function ve(){r&&be(r.questions[i])}Oe(()=>w());function re(){if(!r)return;const b=Math.min(20,r.questions.length),C=gt(Array.from({length:r.questions.length},(P,N)=>N)).slice(0,b);t(1,M=C),t(28,k=Array.from({length:b},()=>null)),t(11,y=0),t(12,T=!1),t(10,p=!0),t(5,i=M[0]),O()}function Z(){t(10,p=!1),t(12,T=!1),t(1,M=[]),t(28,k=[]),t(11,y=0)}function ke(b){b.target.checked?re():Z()}function $e(){if(!p)return;t(12,T=!0);const b=k.map((C,P)=>C===!1?M[P]:null).filter(C=>C!==null);if(h!==x)for(const C of b){const P=r.questions[C].id;nt(h,P)}}function Te(){re()}function ae(){h=Ze(this),t(0,h)}function Q(){i=Ze(this),t(5,i)}const D=b=>{oe(b),t(7,m=!0)};return n.$$.update=()=>{n.$$.dirty[0]&2&&t(2,l=M.length),n.$$.dirty[0]&268435456&&t(3,s=k.filter(b=>b===!0).length),n.$$.dirty[0]&12&&t(15,o=l>0?Math.round(s/l*100):0),n.$$.dirty[0]&12&&t(14,c=s>=Math.ceil(.75*l)),n.$$.dirty[0]&1&&t(13,u=h===x)},[h,M,l,s,r,i,a,m,g,v,p,y,T,u,c,o,L,te,Ee,je,X,oe,Ie,ve,Z,ke,$e,Te,k,ae,Q,D]}class fn extends Ue{constructor(e){super(),Be(this,e,un,cn,pe,{},null,[-1,-1])}}function bt(n,e,t){const l=n.slice();return l[6]=e[t],l}function jt(n){let e;return{c(){e=_("span"),e.textContent="Verified questions",d(e,"class","badge svelte-mr2ygg"),d(e,"aria-label","Verified questions"),d(e,"title","Verified questions")},m(t,l){I(t,e,l)},d(t){t&&E(e)}}}function vt(n){let e,t,l,s,o,c,u,r,i,a=n[0][n[6].id]&&jt();function m(){return n[3](n[6])}return{c(){e=_("button"),t=_("div"),l=_("div"),l.textContent=`${n[6].title}`,s=S(),a&&a.c(),o=S(),c=_("div"),c.textContent=`${n[6].id}`,u=S(),d(l,"class","title svelte-mr2ygg"),d(t,"class","titleRow svelte-mr2ygg"),d(c,"class","id svelte-mr2ygg"),d(e,"class","tile svelte-mr2ygg")},m(h,g){I(h,e,g),f(e,t),f(t,l),f(t,s),a&&a.m(t,null),f(e,o),f(e,c),f(e,u),r||(i=U(e,"click",m),r=!0)},p(h,g){n=h,n[0][n[6].id]?a||(a=jt(),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(h){h&&E(e),a&&a.d(),r=!1,i()}}}function an(n){let e,t,l,s,o,c,u,r,i,a,m,h,g,v,q,p,M,y,k,T;o=new Ge({});let A=ce(ne),$=[];for(let w=0;w<A.length;w+=1)$[w]=vt(bt(n,A,w));return{c(){e=_("div"),t=_("header"),l=_("h1"),l.textContent="Izaberi predmet",s=S(),ge(o.$$.fragment),c=S(),u=_("main"),r=_("div"),i=_("button"),a=_("div"),m=_("div"),m.textContent="MOJE GREŠKE",h=S(),g=_("span"),v=z(n[1]),q=S(),p=_("div"),p.textContent="poseban režim gde se pojavljuju pitanja na kojima ste pogrešili. Kad tacno odgovorite ovde, pitanje se briše sa liste grešaka.",M=S();for(let w=0;w<$.length;w+=1)$[w].c();d(l,"class","svelte-mr2ygg"),d(t,"class","svelte-mr2ygg"),d(m,"class","title svelte-mr2ygg"),d(g,"class","badge badge-error svelte-mr2ygg"),d(g,"aria-label","Greške"),d(g,"title","Pitanja na kojima ste pogrešili"),d(a,"class","titleRow svelte-mr2ygg"),d(p,"class","id svelte-mr2ygg"),d(i,"class","tile tile-errors svelte-mr2ygg"),d(r,"class","grid svelte-mr2ygg"),d(u,"class","svelte-mr2ygg"),d(e,"class","page svelte-mr2ygg")},m(w,O){I(w,e,O),f(e,t),f(t,l),f(t,s),ue(o,t,null),f(e,c),f(e,u),f(u,r),f(r,i),f(i,a),f(a,m),f(a,h),f(a,g),f(g,v),f(i,q),f(i,p),f(r,M);for(let L=0;L<$.length;L+=1)$[L]&&$[L].m(r,null);y=!0,k||(T=U(i,"click",n[2]),k=!0)},p(w,[O]){if((!y||O&2)&&H(v,w[1]),O&1){A=ce(ne);let L;for(L=0;L<A.length;L+=1){const te=bt(w,A,L);$[L]?$[L].p(te,O):($[L]=vt(te),$[L].c(),$[L].m(r,null))}for(;L<$.length;L+=1)$[L].d(1);$.length=A.length}},i(w){y||(J(o.$$.fragment,w),y=!0)},o(w){Y(o.$$.fragment,w),y=!1},d(w){w&&E(e),fe(o),Le($,w),k=!1,T()}}}function kt(n){const e=new URL(location.href);e.hash=`#/quiz?s=${encodeURIComponent(n)}`,location.href=e.toString()}function dn(n,e,t){let l={};async function s(){const i="";await Promise.all(ne.map(async a=>{try{const m=await fetch(`/ppl2025/data/${a.id}.json${i}`,{cache:"no-store"});if(!m.ok)throw new Error(`HTTP ${m.status}`);const h=await m.json();t(0,l={...l,[a.id]:!!h.verified})}catch{t(0,l={...l,[a.id]:!1})}}))}Oe(s);let o=0;function c(){t(1,o=Jt())}return Oe(()=>{c();const i=setInterval(c,1e3);return()=>clearInterval(i)}),[l,o,()=>kt("__errors__"),i=>kt(i.id)]}class mn extends Ue{constructor(e){super(),Be(this,e,dn,an,pe,{})}}function hn(n){let e,t;return e=new mn({}),{c(){ge(e.$$.fragment)},m(l,s){ue(e,l,s),t=!0},i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){Y(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function _n(n){let e,t;return e=new fn({}),{c(){ge(e.$$.fragment)},m(l,s){ue(e,l,s),t=!0},i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){Y(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function pn(n){let e,t,l,s,o;const c=[_n,hn],u=[];function r(i,a){return a&1&&(e=null),e==null&&(e=!!i[0].startsWith("#/quiz")),e?0:1}return t=r(n,-1),l=u[t]=c[t](n),{c(){l.c(),s=Qe()},m(i,a){u[t].m(i,a),I(i,s,a),o=!0},p(i,[a]){let m=t;t=r(i,a),t!==m&&(Re(),Y(u[m],1,1,()=>{u[m]=null}),Ae(),l=u[t],l||(l=u[t]=c[t](i),l.c()),J(l,1),l.m(s.parentNode,s))},i(i){o||(J(l),o=!0)},o(i){Y(l),o=!1},d(i){i&&E(s),u[t].d(i)}}}function gn(n,e,t){let l="#/";function s(){t(0,l=location.hash||"#/")}return Oe(()=>{s(),window.addEventListener("hashchange",s)}),[l]}class bn extends Ue{constructor(e){super(),Be(this,e,gn,pn,pe,{})}}Kt();new bn({target:document.getElementById("app")});
