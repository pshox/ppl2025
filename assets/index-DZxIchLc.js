var Pt=Object.defineProperty;var It=(n,e,t)=>e in n?Pt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var De=(n,e,t)=>It(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function D(){}function yt(n){return n()}function Xe(){return Object.create(null)}function ee(n){n.forEach(yt)}function wt(n){return typeof n=="function"}function pe(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function $t(n){return Object.keys(n).length===0}function f(n,e){n.appendChild(e)}function I(n,e,t){n.insertBefore(e,t||null)}function E(n){n.parentNode&&n.parentNode.removeChild(n)}function Le(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function _(n){return document.createElement(n)}function z(n){return document.createTextNode(n)}function S(){return z(" ")}function Qe(){return z("")}function U(n,e,t,l){return n.addEventListener(e,t,l),()=>n.removeEventListener(e,t,l)}function a(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Tt(n){return Array.from(n.childNodes)}function K(n,e){e=""+e,n.data!==e&&(n.data=e)}function qt(n,e){n.value=e??""}function Ne(n,e,t){for(let l=0;l<n.options.length;l+=1){const s=n.options[l];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function Ze(n){const e=n.querySelector(":checked");return e&&e.__value}let qe;function we(n){qe=n}function Mt(){if(!qe)throw new Error("Function called outside component initialization");return qe}function Oe(n){Mt().$$.on_mount.push(n)}const he=[],xe=[];let _e=[];const et=[],zt=Promise.resolve();let Je=!1;function Nt(){Je||(Je=!0,zt.then(Ct))}function Ce(n){_e.push(n)}const Fe=new Set;let de=0;function Ct(){if(de!==0)return;const n=qe;do{try{for(;de<he.length;){const e=he[de];de++,we(e),Ot(e.$$)}}catch(e){throw he.length=0,de=0,e}for(we(null),he.length=0,de=0;xe.length;)xe.pop()();for(let e=0;e<_e.length;e+=1){const t=_e[e];Fe.has(t)||(Fe.add(t),t())}_e.length=0}while(he.length);for(;et.length;)et.pop()();Je=!1,Fe.clear(),we(n)}function Ot(n){if(n.fragment!==null){n.update(),ee(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Ce)}}function Lt(n){const e=[],t=[];_e.forEach(l=>n.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),_e=e}const ze=new Set;let ie;function Re(){ie={r:0,c:[],p:ie}}function Ae(){ie.r||ee(ie.c),ie=ie.p}function J(n,e){n&&n.i&&(ze.delete(n),n.i(e))}function Y(n,e,t,l){if(n&&n.o){if(ze.has(n))return;ze.add(n),ie.c.push(()=>{ze.delete(n),l&&(t&&n.d(1),l())}),n.o(e)}else l&&l()}function ce(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ge(n){n&&n.c()}function ue(n,e,t){const{fragment:l,after_update:s}=n.$$;l&&l.m(e,t),Ce(()=>{const r=n.$$.on_mount.map(yt).filter(wt);n.$$.on_destroy?n.$$.on_destroy.push(...r):ee(r),n.$$.on_mount=[]}),s.forEach(Ce)}function fe(n,e){const t=n.$$;t.fragment!==null&&(Lt(t.after_update),ee(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Rt(n,e){n.$$.dirty[0]===-1&&(he.push(n),Nt(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Be(n,e,t,l,s,r,u=null,c=[-1]){const i=qe;we(n);const o=n.$$={fragment:null,ctx:[],props:r,update:D,not_equal:s,bound:Xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:Xe(),dirty:c,skip_bound:!1,root:e.target||i.$$.root};u&&u(o.root);let m=!1;if(o.ctx=t?t(n,e.props||{},(d,h,...v)=>{const j=v.length?v[0]:h;return o.ctx&&s(o.ctx[d],o.ctx[d]=j)&&(!o.skip_bound&&o.bound[d]&&o.bound[d](j),m&&Rt(n,d)),h}):[],o.update(),m=!0,ee(o.before_update),o.fragment=l?l(o.ctx):!1,e.target){if(e.hydrate){const d=Tt(e.target);o.fragment&&o.fragment.l(d),d.forEach(E)}else o.fragment&&o.fragment.c();e.intro&&J(n.$$.fragment),ue(n,e.target,e.anchor),Ct()}we(i)}class Ue{constructor(){De(this,"$$");De(this,"$$set")}$destroy(){fe(this,1),this.$destroy=D}$on(e,t){if(!wt(t))return D;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const s=l.indexOf(t);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!$t(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const At="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(At);const ne=[{id:"01-vazduhoplovni-propisi",title:"Vazduhoplovni propisi"},{id:"02-opste-poznavanje-vazduhoplova",title:"Opšte poznavanje vazduhoplova"},{id:"03-performanse",title:"Performanse i planiranje"},{id:"04-ljudske-mogucnosti",title:"Ljudske mogućnosti"},{id:"05-meteorologija",title:"Meteorologija"},{id:"06-navigacija",title:"Navigacija"},{id:"07-operativne-procedure",title:"Operativne procedure"},{id:"08-teorija-letenja",title:"Teorija letenja"},{id:"09-komunikacije",title:"Komunikacije"}],me=[];function Bt(n,e=D){let t;const l=new Set;function s(c){if(pe(n,c)&&(n=c,t)){const i=!me.length;for(const o of l)o[1](),me.push(o,n);if(i){for(let o=0;o<me.length;o+=2)me[o][0](me[o+1]);me.length=0}}}function r(c){s(c(n))}function u(c,i=D){const o=[c,i];return l.add(o),l.size===1&&(t=e(s,r)||D),c(n),()=>{l.delete(o),l.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:u}}const tt="ppl.theme.mode";function Ut(){return typeof window>"u"?"light":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Ye(n){if(typeof document>"u")return;const e=document.documentElement;e.classList.remove("theme-light","theme-dark");const t=n==="system"?Ut():n;e.classList.add(t==="dark"?"theme-dark":"theme-light");const l=document.querySelector('meta[name="theme-color"]');try{const s=getComputedStyle(e).getPropertyValue("--bg").trim();l&&s&&(l.content=s)}catch{}}const Se=Bt("system");let Me=null;function Gt(){let n;Se.subscribe(t=>n=t)(),n==="system"&&Ye("system")}function Vt(){var e;if(typeof window>"u")return;const n=localStorage.getItem(tt)||"system";Se.set(n),Ye(n),Se.subscribe(t=>{try{localStorage.setItem(tt,t)}catch{}Ye(t)}),window.matchMedia&&(Me=window.matchMedia("(prefers-color-scheme: dark)"),(e=Me.addEventListener)==null||e.call(Me,"change",Gt))}function He(n){Se.set(n)}function Dt(n){let e,t,l,s,r,u,c,i,o,m,d,h,v,j;return{c(){e=_("div"),t=_("button"),l=z("☀️"),r=S(),u=_("button"),c=z("🌙"),o=S(),m=_("button"),d=z("⚙️"),a(t,"class","btn svelte-80rqza"),a(t,"aria-label","Light"),a(t,"data-active",s=n[0]==="light"),a(u,"class","btn svelte-80rqza"),a(u,"aria-label","Dark"),a(u,"data-active",i=n[0]==="dark"),a(m,"class","btn svelte-80rqza"),a(m,"aria-label","System"),a(m,"data-active",h=n[0]==="system"),a(e,"class","themeToggle svelte-80rqza")},m(q,p){I(q,e,p),f(e,t),f(t,l),f(e,r),f(e,u),f(u,c),f(e,o),f(e,m),f(m,d),v||(j=[U(t,"click",n[1]),U(u,"click",n[2]),U(m,"click",n[3])],v=!0)},p(q,[p]){p&1&&s!==(s=q[0]==="light")&&a(t,"data-active",s),p&1&&i!==(i=q[0]==="dark")&&a(u,"data-active",i),p&1&&h!==(h=q[0]==="system")&&a(m,"data-active",h)},i:D,o:D,d(q){q&&E(e),v=!1,ee(j)}}}function Ft(n,e,t){let l;const s=()=>He("light"),r=()=>He("dark"),u=()=>He("system");return Se.subscribe(c=>t(0,l=c)),[l,s,r,u]}class Ge extends Ue{constructor(e){super(),Be(this,e,Ft,Dt,pe,{})}}const x="__errors__",St="ppl.errors.v1";function Ht(){try{const n=localStorage.getItem(St);if(!n)return[];const e=JSON.parse(n);return Array.isArray(e)?e.filter(t=>t&&typeof t=="object"&&"subjectId"in t&&"questionId"in t):[]}catch{return[]}}function We(n){try{localStorage.setItem(St,JSON.stringify(n))}catch{}}function Ve(){const n=Ht(),e=new Set,t=[];for(const l of n){const s=`${l.subjectId}::${l.questionId}`;e.has(s)||(e.add(s),t.push(l))}return t.length!==n.length&&We(t),t}function nt(n,e){const t=Ve(),l=`${n}::${e}`;t.some(r=>`${r.subjectId}::${r.questionId}`===l)||(t.push({subjectId:n,questionId:e}),We(t))}function Kt(n,e){const l=Ve().filter(s=>!(s.subjectId===n&&s.questionId===e));We(l)}function Jt(){return Ve().length}function lt(){const n=new Map;for(const{subjectId:e,questionId:t}of Ve())n.has(e)||n.set(e,new Set),n.get(e).add(t);return n}function st(n,e,t){const l=n.slice();return l[44]=e[t],l[46]=t,l}function ot(n,e,t){const l=n.slice();return l[47]=e[t],l[46]=t,l}function Yt(n,e,t){const l=n.slice();return l[41]=e[t],l}function Qt(n){let e=n[5],t,l,s=ht(n);return{c(){s.c(),t=Qe()},m(r,u){s.m(r,u),I(r,t,u),l=!0},p(r,u){u[0]&32&&pe(e,e=r[5])?(Re(),Y(s,1,1,D),Ae(),s=ht(r),s.c(),J(s,1),s.m(t.parentNode,t)):s.p(r,u)},i(r){l||(J(s),l=!0)},o(r){Y(s),l=!1},d(r){r&&E(t),s.d(r)}}}function Wt(n){let e,t,l,s=n[4].subject+"",r,u,c,i,o,m,d,h,v,j;const q=[on,sn],p=[];function T(k,M){return k[13]?0:1}i=T(n),o=p[i]=q[i](n);let y=n[8]&&_t(n);return{c(){e=_("div"),t=_("header"),l=_("h1"),r=z(s),u=S(),c=_("div"),o.c(),m=S(),d=_("main"),y&&y.c(),h=S(),v=_("p"),v.textContent="Nema pitanja u setu.",a(l,"class","svelte-jumjr4"),a(c,"class","toolbar svelte-jumjr4"),a(t,"class","svelte-jumjr4"),a(d,"class","svelte-jumjr4"),a(e,"class","page svelte-jumjr4")},m(k,M){I(k,e,M),f(e,t),f(t,l),f(l,r),f(t,u),f(t,c),p[i].m(c,null),f(e,m),f(e,d),y&&y.m(d,null),f(d,h),f(d,v),j=!0},p(k,M){(!j||M[0]&16)&&s!==(s=k[4].subject+"")&&K(r,s);let A=i;i=T(k),i===A?p[i].p(k,M):(Re(),Y(p[A],1,1,()=>{p[A]=null}),Ae(),o=p[i],o?o.p(k,M):(o=p[i]=q[i](k),o.c()),J(o,1),o.m(c,null)),k[8]?y?y.p(k,M):(y=_t(k),y.c(),y.m(d,h)):y&&(y.d(1),y=null)},i(k){j||(J(o),j=!0)},o(k){Y(o),j=!1},d(k){k&&E(e),p[i].d(),y&&y.d()}}}function Xt(n){let e;return{c(){e=_("div"),e.innerHTML='<header class="svelte-jumjr4"><h1 class="svelte-jumjr4">Priprema PPL</h1></header> <main class="svelte-jumjr4"><p>Učitavanje…</p></main>',a(e,"class","page svelte-jumjr4")},m(t,l){I(t,e,l)},p:D,i:D,o:D,d(t){t&&E(e)}}}function Zt(n){let e=n[5]+1+"",t,l,s=n[4].questions.length+"",r;return{c(){t=z(e),l=z("/"),r=z(s)},m(u,c){I(u,t,c),I(u,l,c),I(u,r,c)},p(u,c){c[0]&32&&e!==(e=u[5]+1+"")&&K(t,e),c[0]&16&&s!==(s=u[4].questions.length+"")&&K(r,s)},d(u){u&&(E(t),E(l),E(r))}}}function xt(n){let e=n[11]+1+"",t,l,s=n[1].length+"",r;return{c(){t=z(e),l=z("/"),r=z(s)},m(u,c){I(u,t,c),I(u,l,c),I(u,r,c)},p(u,c){c[0]&2048&&e!==(e=u[11]+1+"")&&K(t,e),c[0]&2&&s!==(s=u[1].length+"")&&K(r,s)},d(u){u&&(E(t),E(l),E(r))}}}function rt(n){let e,t,l,s,r,u;return{c(){e=_("label"),t=_("input"),l=S(),s=_("span"),s.textContent="Simuliraj ispit",a(t,"type","checkbox"),t.checked=n[10],a(s,"class","label-text svelte-jumjr4"),a(e,"class","exam-toggle svelte-jumjr4")},m(c,i){I(c,e,i),f(e,t),f(e,l),f(e,s),r||(u=U(t,"change",n[25]),r=!0)},p(c,i){i[0]&1024&&(t.checked=c[10])},d(c){c&&E(e),r=!1,u()}}}function it(n){let e,t,l,s,r,u,c,i=n[4].questions.length+"",o,m,d,h=ce(n[4].questions),v=[];for(let j=0;j<h.length;j+=1)v[j]=ct(ot(n,h,j));return{c(){e=_("div"),t=_("label"),t.textContent="Питање",l=S(),s=_("select");for(let j=0;j<v.length;j+=1)v[j].c();r=S(),u=_("small"),c=z("од "),o=z(i),a(t,"for","qselect"),a(t,"class","svelte-jumjr4"),a(s,"id","qselect"),a(s,"class","svelte-jumjr4"),n[5]===void 0&&Ce(()=>n[30].call(s)),a(u,"class","svelte-jumjr4"),a(e,"class","qnav svelte-jumjr4")},m(j,q){I(j,e,q),f(e,t),f(e,l),f(e,s);for(let p=0;p<v.length;p+=1)v[p]&&v[p].m(s,null);Ne(s,n[5],!0),f(e,r),f(e,u),f(u,c),f(u,o),m||(d=[U(s,"change",n[20]),U(s,"change",n[30])],m=!0)},p(j,q){if(q[0]&16){h=ce(j[4].questions);let p;for(p=0;p<h.length;p+=1){const T=ot(j,h,p);v[p]?v[p].p(T,q):(v[p]=ct(T),v[p].c(),v[p].m(s,null))}for(;p<v.length;p+=1)v[p].d(1);v.length=h.length}q[0]&32&&Ne(s,j[5]),q[0]&16&&i!==(i=j[4].questions.length+"")&&K(o,i)},d(j){j&&E(e),Le(v,j),m=!1,ee(d)}}}function ct(n){let e;return{c(){e=_("option"),e.textContent=`${n[46]+1}`,e.__value=n[46],qt(e,e.__value)},m(t,l){I(t,e,l)},p:D,d(t){t&&E(e)}}}function ut(n){let e,t=n[44].text+"",l,s,r,u,c;function i(){return n[31](n[46])}return{c(){e=_("button"),l=z(t),s=S(),a(e,"class",r="option "+(n[9]!==null&&n[44].isCorrect?"correct":"")+" "+(n[9]===n[46]&&!n[44].isCorrect?"wrong":"")+" svelte-jumjr4")},m(o,m){I(o,e,m),f(e,l),f(e,s),u||(c=U(e,"click",i),u=!0)},p(o,m){n=o,m[0]&64&&t!==(t=n[44].text+"")&&K(l,t),m[0]&576&&r!==(r="option "+(n[9]!==null&&n[44].isCorrect?"correct":"")+" "+(n[9]===n[46]&&!n[44].isCorrect?"wrong":"")+" svelte-jumjr4")&&a(e,"class",r)},d(o){o&&E(e),u=!1,c()}}}function ft(n){let e,t=n[4].questions[n[5]].comment+"",l;return{c(){e=_("div"),l=z(t),a(e,"class","comment svelte-jumjr4")},m(s,r){I(s,e,r),f(e,l)},p(s,r){r[0]&48&&t!==(t=s[4].questions[s[5]].comment+"")&&K(l,t)},d(s){s&&E(e)}}}function at(n){let e,t=n[2]>0&&dt(n);return{c(){e=_("div"),t&&t.c(),a(e,"class","exam-result svelte-jumjr4")},m(l,s){I(l,e,s),t&&t.m(e,null)},p(l,s){l[2]>0?t?t.p(l,s):(t=dt(l),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(l){l&&E(e),t&&t.d()}}}function dt(n){let e,t,l,s,r,u,c,i,o,m,d,h,v,j,q,p,T,y,k;function M(w,O){return w[14]?tn:en}let A=M(n),$=A(n);return{c(){e=_("div"),t=_("h2"),t.textContent="Rezultat ispita",l=S(),s=_("p"),r=_("strong"),u=z(n[3]),c=z(" / "),i=z(n[2]),o=z(" ("),m=z(n[15]),d=z("%)"),h=S(),$.c(),v=S(),j=_("div"),q=_("button"),q.textContent="Ponovi ispit",p=S(),T=_("button"),T.textContent="Izađi iz ispita",a(t,"class","svelte-jumjr4"),a(j,"class","actions svelte-jumjr4"),a(e,"class","exam-summary svelte-jumjr4")},m(w,O){I(w,e,O),f(e,t),f(e,l),f(e,s),f(s,r),f(r,u),f(s,c),f(s,i),f(s,o),f(s,m),f(s,d),f(e,h),$.m(e,null),f(e,v),f(e,j),f(j,q),f(j,p),f(j,T),y||(k=[U(q,"click",n[27]),U(T,"click",n[24])],y=!0)},p(w,O){O[0]&8&&K(u,w[3]),O[0]&4&&K(i,w[2]),O[0]&32768&&K(m,w[15]),A!==(A=M(w))&&($.d(1),$=A(w),$&&($.c(),$.m(e,v)))},d(w){w&&E(e),$.d(),y=!1,ee(k)}}}function en(n){let e;return{c(){e=_("p"),e.textContent="Niste položili ispit.",a(e,"class","fail svelte-jumjr4")},m(t,l){I(t,e,l)},d(t){t&&E(e)}}}function tn(n){let e;return{c(){e=_("p"),e.textContent="Položili ste ispit.",a(e,"class","pass svelte-jumjr4")},m(t,l){I(t,e,l)},d(t){t&&E(e)}}}function mt(n){let e,t,l,s,r,u;return{c(){e=_("div"),t=_("button"),t.textContent="Prikaži tačan odgovor",l=S(),s=_("button"),s.textContent="Pitaj AI",a(t,"class","btn btn-success-outline svelte-jumjr4"),a(s,"class","btn btn-info svelte-jumjr4"),a(e,"class","bottomActions svelte-jumjr4")},m(c,i){I(c,e,i),f(e,t),f(e,l),f(e,s),r||(u=[U(t,"click",n[22]),U(s,"click",n[23])],r=!0)},p:D,d(c){c&&E(e),r=!1,ee(u)}}}function nn(n){let e,t,l;return{c(){e=_("button"),e.textContent="Završi ispit",a(e,"class","btn btn-warning svelte-jumjr4")},m(s,r){I(s,e,r),t||(l=U(e,"click",n[26]),t=!0)},p:D,d(s){s&&E(e),t=!1,l()}}}function ln(n){let e,t,l;return{c(){e=_("button"),e.textContent="Slučajno",a(e,"class","btn btn-secondary svelte-jumjr4")},m(s,r){I(s,e,r),t||(l=U(e,"click",n[18]),t=!0)},p:D,d(s){s&&E(e),t=!1,l()}}}function ht(n){let e,t,l,s=n[4].subject+"",r,u,c,i,o,m,d,h=n[4].lang+"",v,j,q,p,T,y,k,M,A,$=n[4].questions[n[5]].question+"",w,O,L,te,Ee,Pe,be,le,je,X,oe,Ie,ve,re,Z,ke,$e;function Te(b,G){return b[10]?xt:Zt}let ae=Te(n),Q=ae(n);p=new Ge({});let F=!n[13]&&rt(n),g=!n[10]&&it(n),C=ce(n[6]),P=[];for(let b=0;b<C.length;b+=1)P[b]=ut(st(n,C,b));let N=n[4].questions[n[5]].comment&&!n[10]&&ft(n),B=n[10]&&n[12]&&at(n),R=!n[10]&&mt(n);function se(b,G){return b[10]?nn:ln}let W=se(n),H=W(n);return{c(){e=_("div"),t=_("header"),l=_("h1"),r=z(s),u=S(),c=_("div"),i=_("button"),i.textContent="← Predmeti",o=S(),m=_("small"),d=z("#"),v=z(h),j=z(` ·
              `),Q.c(),q=S(),ge(p.$$.fragment),T=S(),F&&F.c(),y=S(),k=_("main"),M=_("div"),A=_("div"),w=z($),O=S(),g&&g.c(),L=S(),te=_("div");for(let b=0;b<P.length;b+=1)P[b].c();Ee=S(),N&&N.c(),Pe=S(),B&&B.c(),be=S(),le=_("div"),R&&R.c(),je=S(),X=_("nav"),oe=_("button"),oe.textContent="← Nazad",Ie=S(),H.c(),ve=S(),re=_("button"),re.textContent="Sledeće →",a(l,"class","svelte-jumjr4"),a(i,"class","back svelte-jumjr4"),a(m,"class","svelte-jumjr4"),a(c,"class","toolbar svelte-jumjr4"),a(t,"class","svelte-jumjr4"),a(A,"class","question svelte-jumjr4"),a(te,"class","options svelte-jumjr4"),a(M,"class","card svelte-jumjr4"),a(oe,"class","btn btn-neutral svelte-jumjr4"),a(re,"class","btn btn-primary svelte-jumjr4"),a(X,"class","bottomNav svelte-jumjr4"),a(le,"class","bottomBar svelte-jumjr4"),a(k,"class","svelte-jumjr4"),a(e,"class","page svelte-jumjr4")},m(b,G){I(b,e,G),f(e,t),f(t,l),f(l,r),f(t,u),f(t,c),f(c,i),f(c,o),f(c,m),f(m,d),f(m,v),f(m,j),Q.m(m,null),f(c,q),ue(p,c,null),f(c,T),F&&F.m(c,null),f(e,y),f(e,k),f(k,M),f(M,A),f(A,w),f(M,O),g&&g.m(M,null),f(M,L),f(M,te);for(let V=0;V<P.length;V+=1)P[V]&&P[V].m(te,null);f(M,Ee),N&&N.m(M,null),f(k,Pe),B&&B.m(k,null),f(k,be),f(k,le),R&&R.m(le,null),f(le,je),f(le,X),f(X,oe),f(X,Ie),H.m(X,null),f(X,ve),f(X,re),Z=!0,ke||($e=[U(i,"click",Et),U(oe,"click",n[17]),U(re,"click",n[16])],ke=!0)},p(b,G){if((!Z||G[0]&16)&&s!==(s=b[4].subject+"")&&K(r,s),(!Z||G[0]&16)&&h!==(h=b[4].lang+"")&&K(v,h),ae===(ae=Te(b))&&Q?Q.p(b,G):(Q.d(1),Q=ae(b),Q&&(Q.c(),Q.m(m,null))),b[13]?F&&(F.d(1),F=null):F?F.p(b,G):(F=rt(b),F.c(),F.m(c,null)),(!Z||G[0]&48)&&$!==($=b[4].questions[b[5]].question+"")&&K(w,$),b[10]?g&&(g.d(1),g=null):g?g.p(b,G):(g=it(b),g.c(),g.m(M,L)),G[0]&2097856){C=ce(b[6]);let V;for(V=0;V<C.length;V+=1){const ye=st(b,C,V);P[V]?P[V].p(ye,G):(P[V]=ut(ye),P[V].c(),P[V].m(te,null))}for(;V<P.length;V+=1)P[V].d(1);P.length=C.length}b[4].questions[b[5]].comment&&!b[10]?N?N.p(b,G):(N=ft(b),N.c(),N.m(M,null)):N&&(N.d(1),N=null),b[10]&&b[12]?B?B.p(b,G):(B=at(b),B.c(),B.m(k,be)):B&&(B.d(1),B=null),b[10]?R&&(R.d(1),R=null):R?R.p(b,G):(R=mt(b),R.c(),R.m(le,je)),W===(W=se(b))&&H?H.p(b,G):(H.d(1),H=W(b),H&&(H.c(),H.m(X,ve)))},i(b){Z||(J(p.$$.fragment,b),Z=!0)},o(b){Y(p.$$.fragment,b),Z=!1},d(b){b&&E(e),Q.d(),fe(p),F&&F.d(),g&&g.d(),Le(P,b),N&&N.d(),B&&B.d(),R&&R.d(),H.d(),ke=!1,ee($e)}}}function sn(n){let e,t,l,s,r,u,c,i,o=ce(ne),m=[];for(let d=0;d<o.length;d+=1)m[d]=rn(Yt(n,o,d));return r=new Ge({}),{c(){e=_("label"),e.textContent="Predmet",t=S(),l=_("select");for(let d=0;d<m.length;d+=1)m[d].c();s=S(),ge(r.$$.fragment),a(e,"for","subject"),a(e,"class","svelte-jumjr4"),a(l,"id","subject"),a(l,"class","svelte-jumjr4"),n[0]===void 0&&Ce(()=>n[29].call(l))},m(d,h){I(d,e,h),I(d,t,h),I(d,l,h);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(l,null);Ne(l,n[0],!0),I(d,s,h),ue(r,d,h),u=!0,c||(i=[U(l,"change",n[29]),U(l,"change",n[19])],c=!0)},p(d,h){h[0]&1&&Ne(l,d[0])},i(d){u||(J(r.$$.fragment,d),u=!0)},o(d){Y(r.$$.fragment,d),u=!1},d(d){d&&(E(e),E(t),E(l),E(s)),Le(m,d),fe(r,d),c=!1,ee(i)}}}function on(n){let e,t,l,s,r,u;return l=new Ge({}),{c(){e=_("button"),e.textContent="← Predmeti",t=S(),ge(l.$$.fragment),a(e,"class","back svelte-jumjr4")},m(c,i){I(c,e,i),I(c,t,i),ue(l,c,i),s=!0,r||(u=U(e,"click",Et),r=!0)},p:D,i(c){s||(J(l.$$.fragment,c),s=!0)},o(c){Y(l.$$.fragment,c),s=!1},d(c){c&&(E(e),E(t)),fe(l,c),r=!1,u()}}}function rn(n){let e;return{c(){e=_("option"),e.textContent=`${n[41].title}`,e.__value=n[41].id,qt(e,e.__value)},m(t,l){I(t,e,l)},p:D,d(t){t&&E(e)}}}function _t(n){let e,t;return{c(){e=_("div"),t=z(n[8]),a(e,"class","errorBox svelte-jumjr4")},m(l,s){I(l,e,s),f(e,t)},p(l,s){s[0]&256&&K(t,l[8])},d(l){l&&E(e)}}}function cn(n){let e,t,l,s;const r=[Xt,Wt,Qt],u=[];function c(i,o){return i[4]?i[4].questions.length===0?1:2:0}return e=c(n),t=u[e]=r[e](n),{c(){t.c(),l=Qe()},m(i,o){u[e].m(i,o),I(i,l,o),s=!0},p(i,o){let m=e;e=c(i),e===m?u[e].p(i,o):(Re(),Y(u[m],1,1,()=>{u[m]=null}),Ae(),t=u[e],t?t.p(i,o):(t=u[e]=r[e](i),t.c()),J(t,1),t.m(l.parentNode,l))},i(i){s||(J(t),s=!0)},o(i){Y(t),s=!1},d(i){i&&E(l),u[e].d(i)}}}const Ke="ppl.index.",pt="ppl.subject";function gt(n){const e=[...n];for(let t=e.length-1;t>0;t--){const l=Math.floor(Math.random()*(t+1));[e[t],e[l]]=[e[l],e[t]]}return e}function Et(){location.hash="#/"}function un(n,e,t){let l,s,r,u,c,i=null,o=0,m=[],d=!1,h="01-vazduhoplovni-propisi",v="",j=null,q=null,p=!1,T=[],y=0,k=[],M=!1;function A(g){return!!g&&(g===x||ne.some(C=>C.id===g))}function $(g){const C=ne.find(P=>P.id===g);return g===x?"Greške":C?C.title:"PPL"}async function w(g){const C=location.hash||"",P=new URLSearchParams(C.split("?")[1]||""),N=new URLSearchParams(location.search),B=g||P.get("s")||N.get("s")||localStorage.getItem(pt)||ne[0].id;if(t(0,h=A(B)?B:ne[0].id),t(8,v=""),h===x){const R=lt(),se=[];for(const[W,H]of R.entries())try{const G=await fetch(`/ppl2025/data/${W}.json`,{cache:"no-store"});if(!G.ok)continue;const V=await G.json();for(const ye of V.questions)H.has(ye.id)&&se.push({...ye})}catch{}t(4,i={subject:$(x),lang:"sr",version:1,questions:se}),t(5,o=0),O();return}else{try{const W=await fetch(`/ppl2025/data/${h}.json`,{cache:"no-store"});if(!W.ok)throw new Error(`HTTP ${W.status}`);t(4,i=await W.json())}catch{if(h!==ne[0].id){t(0,h=ne[0].id);try{const H=await fetch(`/ppl2025/data/${h}.json`,{cache:"no-store"});if(!H.ok)throw new Error(`HTTP ${H.status}`);t(4,i=await H.json()),t(8,v="Није нађен сет за претходни предмет. Учитан је подразумевани предмет.")}catch{t(8,v="Није нађен ниједан сет питања."),t(4,i={subject:$(h),lang:"sr",version:1,questions:[]})}}else t(8,v="Није нађен сет питања за изабрани предмет."),t(4,i={subject:$(h),lang:"sr",version:1,questions:[]})}const R=Number(localStorage.getItem(Ke+h)||"0");t(5,o=Number.isFinite(R)&&R>=0&&R<i.questions.length?R:0),O()}}function O(){if(t(7,d=!1),!i)return;const g=i.questions[o];t(6,m=gt(g.options||[])),t(9,j=null),q!==null&&(clearTimeout(q),q=null),p||localStorage.setItem(Ke+h,String(o)),localStorage.setItem(pt,h);const C=new URL(location.href);C.hash=`#/quiz?s=${h}`,history.replaceState(null,"",C)}function L(){i&&(p&&T.length>0?(t(11,y=Math.min(y+1,T.length-1)),t(5,o=T[y])):t(5,o=(o+1)%i.questions.length),O())}function te(){i&&(p&&T.length>0?(t(11,y=Math.max(y-1,0)),t(5,o=T[y])):t(5,o=(o-1+i.questions.length)%i.questions.length),O())}function Ee(){if(i&&!(p&&T.length>0)){if(h===x){t(5,o=Math.floor(Math.random()*i.questions.length)),O();return}t(5,o=Math.floor(Math.random()*i.questions.length)),O()}}function Pe(g){const C=(i==null?void 0:i.subject)??"PPL",P=g.options.map((N,B)=>`${String.fromCharCode(65+B)}. ${N.text}`).join(`
`);return`Објасни зашто је тачан одговор за предмет ${C} (PPL).
Питање: ${g.question}
Понудени одговори:
${P}`}function be(g){const C=Pe(g),P=`https://chat.openai.com/?q=${encodeURIComponent(C)}`;window.open(P,"_blank")}function le(g){h!==g&&(t(0,h=g),t(5,o=0),g!==x&&localStorage.setItem(Ke+h,"0"),t(7,d=!1),Z(),w(h))}function je(g){const P=g.target.value;le(P)}function X(g){const C=g.target,P=Number(C.value);Number.isFinite(P)&&(t(5,o=Math.min(Math.max(P,0),((i==null?void 0:i.questions.length)??1)-1)),O())}function oe(g){var P;t(9,j=g);const C=!!((P=m[g])!=null&&P.isCorrect);if(p&&!M&&T.length>0)(k[y]===null||k[y]===void 0)&&t(28,k[y]=C,k);else if(C)if(q!==null&&clearTimeout(q),q=null,h===x){const N=i.questions[o],B=lt();for(const[R,se]of B.entries())se.has(N.id)&&Kt(R,N.id);w(x)}else L();if(!C&&h!==x&&!p){const N=i.questions[o].id;nt(h,N)}}function Ie(){const g=m.findIndex(C=>C.isCorrect);g!==-1&&(t(9,j=g),q!==null&&(clearTimeout(q),q=null))}function ve(){i&&be(i.questions[o])}Oe(()=>w());function re(){if(!i)return;const g=Math.min(20,i.questions.length),C=gt(Array.from({length:i.questions.length},(P,N)=>N)).slice(0,g);t(1,T=C),t(28,k=Array.from({length:g},()=>null)),t(11,y=0),t(12,M=!1),t(10,p=!0),t(5,o=T[0]),O()}function Z(){t(10,p=!1),t(12,M=!1),t(1,T=[]),t(28,k=[]),t(11,y=0)}function ke(g){g.target.checked?re():Z()}function $e(){if(!p)return;t(12,M=!0);const g=k.map((C,P)=>C===!1?T[P]:null).filter(C=>C!==null);if(h!==x)for(const C of g){const P=i.questions[C].id;nt(h,P)}}function Te(){re()}function ae(){h=Ze(this),t(0,h)}function Q(){o=Ze(this),t(5,o)}const F=g=>{oe(g),t(7,d=!0)};return n.$$.update=()=>{n.$$.dirty[0]&2&&t(2,l=T.length),n.$$.dirty[0]&268435456&&t(3,s=k.filter(g=>g===!0).length),n.$$.dirty[0]&12&&t(15,r=l>0?Math.round(s/l*100):0),n.$$.dirty[0]&12&&t(14,u=s>=Math.ceil(.75*l)),n.$$.dirty[0]&1&&t(13,c=h===x)},[h,T,l,s,i,o,m,d,v,j,p,y,M,c,u,r,L,te,Ee,je,X,oe,Ie,ve,Z,ke,$e,Te,k,ae,Q,F]}class fn extends Ue{constructor(e){super(),Be(this,e,un,cn,pe,{},null,[-1,-1])}}function bt(n,e,t){const l=n.slice();return l[6]=e[t],l}function jt(n){let e;return{c(){e=_("span"),e.textContent="Verified questions",a(e,"class","badge svelte-mr2ygg"),a(e,"aria-label","Verified questions"),a(e,"title","Verified questions")},m(t,l){I(t,e,l)},d(t){t&&E(e)}}}function vt(n){let e,t,l,s,r,u,c,i,o=n[0][n[6].id]&&jt();function m(){return n[2](n[6])}return{c(){e=_("button"),t=_("div"),l=_("div"),l.textContent=`${n[6].title}`,s=S(),o&&o.c(),r=S(),u=_("div"),u.textContent=`${n[6].id}`,a(l,"class","title svelte-mr2ygg"),a(t,"class","titleRow svelte-mr2ygg"),a(u,"class","id svelte-mr2ygg"),a(e,"class","tile svelte-mr2ygg")},m(d,h){I(d,e,h),f(e,t),f(t,l),f(t,s),o&&o.m(t,null),f(e,r),f(e,u),c||(i=U(e,"click",m),c=!0)},p(d,h){n=d,n[0][n[6].id]?o||(o=jt(),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(d){d&&E(e),o&&o.d(),c=!1,i()}}}function an(n){let e,t,l,s,r,u,c,i,o,m,d,h,v,j,q,p,T,y,k,M;r=new Ge({});let A=ce(ne),$=[];for(let w=0;w<A.length;w+=1)$[w]=vt(bt(n,A,w));return{c(){e=_("div"),t=_("header"),l=_("h1"),l.textContent="Izaberi predmet",s=S(),ge(r.$$.fragment),u=S(),c=_("main"),i=_("div");for(let w=0;w<$.length;w+=1)$[w].c();o=S(),m=_("button"),d=_("div"),h=_("div"),h.textContent="Greške",v=S(),j=_("span"),q=z(n[1]),p=S(),T=_("div"),T.textContent="poseban režim",a(l,"class","svelte-mr2ygg"),a(t,"class","svelte-mr2ygg"),a(h,"class","title svelte-mr2ygg"),a(j,"class","badge badge-error svelte-mr2ygg"),a(j,"aria-label","Greške"),a(j,"title","Pitanja na kojima ste pogrešili"),a(d,"class","titleRow svelte-mr2ygg"),a(T,"class","id svelte-mr2ygg"),a(m,"class","tile tile-errors svelte-mr2ygg"),a(i,"class","grid svelte-mr2ygg"),a(c,"class","svelte-mr2ygg"),a(e,"class","page svelte-mr2ygg")},m(w,O){I(w,e,O),f(e,t),f(t,l),f(t,s),ue(r,t,null),f(e,u),f(e,c),f(c,i);for(let L=0;L<$.length;L+=1)$[L]&&$[L].m(i,null);f(i,o),f(i,m),f(m,d),f(d,h),f(d,v),f(d,j),f(j,q),f(m,p),f(m,T),y=!0,k||(M=U(m,"click",n[3]),k=!0)},p(w,[O]){if(O&1){A=ce(ne);let L;for(L=0;L<A.length;L+=1){const te=bt(w,A,L);$[L]?$[L].p(te,O):($[L]=vt(te),$[L].c(),$[L].m(i,o))}for(;L<$.length;L+=1)$[L].d(1);$.length=A.length}(!y||O&2)&&K(q,w[1])},i(w){y||(J(r.$$.fragment,w),y=!0)},o(w){Y(r.$$.fragment,w),y=!1},d(w){w&&E(e),fe(r),Le($,w),k=!1,M()}}}function kt(n){const e=new URL(location.href);e.hash=`#/quiz?s=${encodeURIComponent(n)}`,location.href=e.toString()}function dn(n,e,t){let l={};async function s(){const o="";await Promise.all(ne.map(async m=>{try{const d=await fetch(`/ppl2025/data/${m.id}.json${o}`,{cache:"no-store"});if(!d.ok)throw new Error(`HTTP ${d.status}`);const h=await d.json();t(0,l={...l,[m.id]:!!h.verified})}catch{t(0,l={...l,[m.id]:!1})}}))}Oe(s);let r=0;function u(){t(1,r=Jt())}return Oe(()=>{u();const o=setInterval(u,1e3);return()=>clearInterval(o)}),[l,r,o=>kt(o.id),()=>kt("__errors__")]}class mn extends Ue{constructor(e){super(),Be(this,e,dn,an,pe,{})}}function hn(n){let e,t;return e=new mn({}),{c(){ge(e.$$.fragment)},m(l,s){ue(e,l,s),t=!0},i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){Y(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function _n(n){let e,t;return e=new fn({}),{c(){ge(e.$$.fragment)},m(l,s){ue(e,l,s),t=!0},i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){Y(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function pn(n){let e,t,l,s,r;const u=[_n,hn],c=[];function i(o,m){return m&1&&(e=null),e==null&&(e=!!o[0].startsWith("#/quiz")),e?0:1}return t=i(n,-1),l=c[t]=u[t](n),{c(){l.c(),s=Qe()},m(o,m){c[t].m(o,m),I(o,s,m),r=!0},p(o,[m]){let d=t;t=i(o,m),t!==d&&(Re(),Y(c[d],1,1,()=>{c[d]=null}),Ae(),l=c[t],l||(l=c[t]=u[t](o),l.c()),J(l,1),l.m(s.parentNode,s))},i(o){r||(J(l),r=!0)},o(o){Y(l),r=!1},d(o){o&&E(s),c[t].d(o)}}}function gn(n,e,t){let l="#/";function s(){t(0,l=location.hash||"#/")}return Oe(()=>{s(),window.addEventListener("hashchange",s)}),[l]}class bn extends Ue{constructor(e){super(),Be(this,e,gn,pn,pe,{})}}Vt();new bn({target:document.getElementById("app")});
