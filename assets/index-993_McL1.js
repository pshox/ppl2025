var Ll=Object.defineProperty;var Ml=(n,e,t)=>e in n?Ll(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Z=(n,e,t)=>Ml(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function Y(){}function pl(n){return n()}function _n(){return Object.create(null)}function _e(n){n.forEach(pl)}function hl(n){return typeof n=="function"}function st(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let St;function Rt(n,e){return n===e?!0:(St||(St=document.createElement("a")),St.href=e,n===St.href)}function Ol(n){return Object.keys(n).length===0}function u(n,e){n.appendChild(e)}function j(n,e,t){n.insertBefore(e,t||null)}function y(n){n.parentNode&&n.parentNode.removeChild(n)}function bt(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function g(n){return document.createElement(n)}function M(n){return document.createTextNode(n)}function _(){return M(" ")}function mt(){return M("")}function L(n,e,t,l){return n.addEventListener(e,t,l),()=>n.removeEventListener(e,t,l)}function dl(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function p(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Nl(n){return Array.from(n.childNodes)}function W(n,e){e=""+e,n.data!==e&&(n.data=e)}function Ze(n,e){n.value=e??""}function nt(n,e,t){for(let l=0;l<n.options.length;l+=1){const s=n.options[l];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function Yt(n){const e=n.querySelector(":checked");return e&&e.__value}let dt;function pt(n){dt=n}function Bl(){if(!dt)throw new Error("Function called outside component initialization");return dt}function Et(n){Bl().$$.on_mount.push(n)}function xn(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const et=[],wn=[];let tt=[];const vn=[],Dl=Promise.resolve();let en=!1;function Zl(){en||(en=!0,Dl.then(gl))}function lt(n){tt.push(n)}const Ft=new Set;let Xe=0;function gl(){if(Xe!==0)return;const n=dt;do{try{for(;Xe<et.length;){const e=et[Xe];Xe++,pt(e),Gl(e.$$)}}catch(e){throw et.length=0,Xe=0,e}for(pt(null),et.length=0,Xe=0;wn.length;)wn.pop()();for(let e=0;e<tt.length;e+=1){const t=tt[e];Ft.has(t)||(Ft.add(t),t())}tt.length=0}while(et.length);for(;vn.length;)vn.pop()();en=!1,Ft.clear(),pt(n)}function Gl(n){if(n.fragment!==null){n.update(),_e(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(lt)}}function Hl(n){const e=[],t=[];tt.forEach(l=>n.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),tt=e}const Ct=new Set;let Ge;function Lt(){Ge={r:0,c:[],p:Ge}}function Mt(){Ge.r||_e(Ge.c),Ge=Ge.p}function pe(n,e){n&&n.i&&(Ct.delete(n),n.i(e))}function de(n,e,t,l){if(n&&n.o){if(Ct.has(n))return;Ct.add(n),Ge.c.push(()=>{Ct.delete(n),l&&(t&&n.d(1),l())}),n.o(e)}else l&&l()}function Ne(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function rt(n){n&&n.c()}function Ke(n,e,t){const{fragment:l,after_update:s}=n.$$;l&&l.m(e,t),lt(()=>{const r=n.$$.on_mount.map(pl).filter(hl);n.$$.on_destroy?n.$$.on_destroy.push(...r):_e(r),n.$$.on_mount=[]}),s.forEach(lt)}function Ue(n,e){const t=n.$$;t.fragment!==null&&(Hl(t.after_update),_e(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Kl(n,e){n.$$.dirty[0]===-1&&(et.push(n),Zl(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Ot(n,e,t,l,s,r,a=null,i=[-1]){const c=dt;pt(n);const o=n.$$={fragment:null,ctx:[],props:r,update:Y,not_equal:s,bound:_n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:_n(),dirty:i,skip_bound:!1,root:e.target||c.$$.root};a&&a(o.root);let h=!1;if(o.ctx=t?t(n,e.props||{},(d,f,...b)=>{const m=b.length?b[0]:f;return o.ctx&&s(o.ctx[d],o.ctx[d]=m)&&(!o.skip_bound&&o.bound[d]&&o.bound[d](m),h&&Kl(n,d)),f}):[],o.update(),h=!0,_e(o.before_update),o.fragment=l?l(o.ctx):!1,e.target){if(e.hydrate){const d=Nl(e.target);o.fragment&&o.fragment.l(d),d.forEach(y)}else o.fragment&&o.fragment.c();e.intro&&pe(n.$$.fragment),Ke(n,e.target,e.anchor),gl()}pt(c)}class Nt{constructor(){Z(this,"$$");Z(this,"$$set")}$destroy(){Ue(this,1),this.$destroy=Y}$on(e,t){if(!hl(t))return Y;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const s=l.indexOf(t);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!Ol(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ul="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ul);function an(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Qe=an();function bl(n){Qe=n}var ht={exec:()=>null};function O(n,e=""){let t=typeof n=="string"?n:n.source,l={replace:(s,r)=>{let a=typeof r=="string"?r:r.source;return a=a.replace(fe.caret,"$1"),t=t.replace(s,a),l},getRegex:()=>new RegExp(t,e)};return l}var fe={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},Ql=/^(?:[ \t]*(?:\n|$))+/,Yl=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Fl=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,kt=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Wl=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,cn=/(?:[*+-]|\d{1,9}[.)])/,ml=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,kl=O(ml).replace(/bull/g,cn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Jl=O(ml).replace(/bull/g,cn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),un=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Xl=/^[^\n]+/,fn=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Vl=O(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",fn).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),es=O(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,cn).getRegex(),Bt="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",pn=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ts=O("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",pn).replace("tag",Bt).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_l=O(un).replace("hr",kt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bt).getRegex(),ns=O(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",_l).getRegex(),hn={blockquote:ns,code:Yl,def:Vl,fences:Fl,heading:Wl,hr:kt,html:ts,lheading:kl,list:es,newline:Ql,paragraph:_l,table:ht,text:Xl},yn=O("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",kt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bt).getRegex(),ls={...hn,lheading:Jl,table:yn,paragraph:O(un).replace("hr",kt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",yn).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bt).getRegex()},ss={...hn,html:O(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",pn).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ht,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:O(un).replace("hr",kt).replace("heading",` *#{1,6} *[^
]`).replace("lheading",kl).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},rs=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,is=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,xl=/^( {2,}|\\)\n(?!\s*$)/,os=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Dt=/[\p{P}\p{S}]/u,dn=/[\s\p{P}\p{S}]/u,wl=/[^\s\p{P}\p{S}]/u,as=O(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,dn).getRegex(),vl=/(?!~)[\p{P}\p{S}]/u,cs=/(?!~)[\s\p{P}\p{S}]/u,us=/(?:[^\s\p{P}\p{S}]|~)/u,fs=O(/link|code|html/,"g").replace("link",new RegExp("\\[(?:[^\\[\\]`]|(?<!`)(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)")).replace("code",new RegExp("(?<!`)(?<b>`+)[^`]+\\k<b>(?!`)")).replace("html",/<(?! )[^<>]*?>/).getRegex(),yl=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ps=O(yl,"u").replace(/punct/g,Dt).getRegex(),hs=O(yl,"u").replace(/punct/g,vl).getRegex(),Sl="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",ds=O(Sl,"gu").replace(/notPunctSpace/g,wl).replace(/punctSpace/g,dn).replace(/punct/g,Dt).getRegex(),gs=O(Sl,"gu").replace(/notPunctSpace/g,us).replace(/punctSpace/g,cs).replace(/punct/g,vl).getRegex(),bs=O("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,wl).replace(/punctSpace/g,dn).replace(/punct/g,Dt).getRegex(),ms=O(/\\(punct)/,"gu").replace(/punct/g,Dt).getRegex(),ks=O(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_s=O(pn).replace("(?:-->|$)","-->").getRegex(),xs=O("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_s).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Pt=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,ws=O(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Pt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),jl=O(/^!?\[(label)\]\[(ref)\]/).replace("label",Pt).replace("ref",fn).getRegex(),Al=O(/^!?\[(ref)\](?:\[\])?/).replace("ref",fn).getRegex(),vs=O("reflink|nolink(?!\\()","g").replace("reflink",jl).replace("nolink",Al).getRegex(),Sn=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,gn={_backpedal:ht,anyPunctuation:ms,autolink:ks,blockSkip:fs,br:xl,code:is,del:ht,emStrongLDelim:ps,emStrongRDelimAst:ds,emStrongRDelimUnd:bs,escape:rs,link:ws,nolink:Al,punctuation:as,reflink:jl,reflinkSearch:vs,tag:xs,text:os,url:ht},ys={...gn,link:O(/^!?\[(label)\]\((.*?)\)/).replace("label",Pt).getRegex(),reflink:O(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Pt).getRegex()},tn={...gn,emStrongRDelimAst:gs,emStrongLDelim:hs,url:O(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Sn).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:O(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Sn).getRegex()},Ss={...tn,br:O(xl).replace("{2,}","*").getRegex(),text:O(tn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},jt={normal:hn,gfm:ls,pedantic:ss},ct={normal:gn,gfm:tn,breaks:Ss,pedantic:ys},js={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jn=n=>js[n];function ze(n,e){if(e){if(fe.escapeTest.test(n))return n.replace(fe.escapeReplace,jn)}else if(fe.escapeTestNoEncode.test(n))return n.replace(fe.escapeReplaceNoEncode,jn);return n}function An(n){try{n=encodeURI(n).replace(fe.percentDecode,"%")}catch{return null}return n}function Tn(n,e){var r;let t=n.replace(fe.findPipe,(a,i,c)=>{let o=!1,h=i;for(;--h>=0&&c[h]==="\\";)o=!o;return o?"|":" |"}),l=t.split(fe.splitPipe),s=0;if(l[0].trim()||l.shift(),l.length>0&&!((r=l.at(-1))!=null&&r.trim())&&l.pop(),e)if(l.length>e)l.splice(e);else for(;l.length<e;)l.push("");for(;s<l.length;s++)l[s]=l[s].trim().replace(fe.slashPipe,"|");return l}function ut(n,e,t){let l=n.length;if(l===0)return"";let s=0;for(;s<l&&n.charAt(l-s-1)===e;)s++;return n.slice(0,l-s)}function As(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let l=0;l<n.length;l++)if(n[l]==="\\")l++;else if(n[l]===e[0])t++;else if(n[l]===e[1]&&(t--,t<0))return l;return t>0?-2:-1}function Cn(n,e,t,l,s){let r=e.href,a=e.title||null,i=n[1].replace(s.other.outputLinkReplace,"$1");l.state.inLink=!0;let c={type:n[0].charAt(0)==="!"?"image":"link",raw:t,href:r,title:a,text:i,tokens:l.inlineTokens(i)};return l.state.inLink=!1,c}function Ts(n,e,t){let l=n.match(t.other.indentCodeCompensation);if(l===null)return e;let s=l[1];return e.split(`
`).map(r=>{let a=r.match(t.other.beginningSpace);if(a===null)return r;let[i]=a;return i.length>=s.length?r.slice(s.length):r}).join(`
`)}var It=class{constructor(n){Z(this,"options");Z(this,"rules");Z(this,"lexer");this.options=n||Qe}space(n){let e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){let e=this.rules.block.code.exec(n);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:ut(t,`
`)}}}fences(n){let e=this.rules.block.fences.exec(n);if(e){let t=e[0],l=Ts(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:l}}}heading(n){let e=this.rules.block.heading.exec(n);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let l=ut(t,"#");(this.options.pedantic||!l||this.rules.other.endingSpaceChar.test(l))&&(t=l.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(n){let e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:ut(e[0],`
`)}}blockquote(n){let e=this.rules.block.blockquote.exec(n);if(e){let t=ut(e[0],`
`).split(`
`),l="",s="",r=[];for(;t.length>0;){let a=!1,i=[],c;for(c=0;c<t.length;c++)if(this.rules.other.blockquoteStart.test(t[c]))i.push(t[c]),a=!0;else if(!a)i.push(t[c]);else break;t=t.slice(c);let o=i.join(`
`),h=o.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");l=l?`${l}
${o}`:o,s=s?`${s}
${h}`:h;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,r,!0),this.lexer.state.top=d,t.length===0)break;let f=r.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){let b=f,m=b.raw+`
`+t.join(`
`),w=this.blockquote(m);r[r.length-1]=w,l=l.substring(0,l.length-b.raw.length)+w.raw,s=s.substring(0,s.length-b.text.length)+w.text;break}else if((f==null?void 0:f.type)==="list"){let b=f,m=b.raw+`
`+t.join(`
`),w=this.list(m);r[r.length-1]=w,l=l.substring(0,l.length-f.raw.length)+w.raw,s=s.substring(0,s.length-b.raw.length)+w.raw,t=m.substring(r.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:r,text:s}}}list(n){let e=this.rules.block.list.exec(n);if(e){let t=e[1].trim(),l=t.length>1,s={type:"list",raw:"",ordered:l,start:l?+t.slice(0,-1):"",loose:!1,items:[]};t=l?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=l?t:"[*+-]");let r=this.rules.other.listItemRegex(t),a=!1;for(;n;){let c=!1,o="",h="";if(!(e=r.exec(n))||this.rules.block.hr.test(n))break;o=e[0],n=n.substring(o.length);let d=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,S=>" ".repeat(3*S.length)),f=n.split(`
`,1)[0],b=!d.trim(),m=0;if(this.options.pedantic?(m=2,h=d.trimStart()):b?m=e[1].length+1:(m=e[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,h=d.slice(m),m+=e[1].length),b&&this.rules.other.blankLine.test(f)&&(o+=f+`
`,n=n.substring(f.length+1),c=!0),!c){let S=this.rules.other.nextBulletRegex(m),E=this.rules.other.hrRegex(m),A=this.rules.other.fencesBeginRegex(m),C=this.rules.other.headingBeginRegex(m),q=this.rules.other.htmlBeginRegex(m);for(;n;){let T=n.split(`
`,1)[0],$;if(f=T,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),$=f):$=f.replace(this.rules.other.tabCharGlobal,"    "),A.test(f)||C.test(f)||q.test(f)||S.test(f)||E.test(f))break;if($.search(this.rules.other.nonSpaceChar)>=m||!f.trim())h+=`
`+$.slice(m);else{if(b||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||A.test(d)||C.test(d)||E.test(d))break;h+=`
`+f}!b&&!f.trim()&&(b=!0),o+=T+`
`,n=n.substring(T.length+1),d=$.slice(m)}}s.loose||(a?s.loose=!0:this.rules.other.doubleBlankLine.test(o)&&(a=!0));let w=null,k;this.options.gfm&&(w=this.rules.other.listIsTask.exec(h),w&&(k=w[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:o,task:!!w,checked:k,loose:!1,text:h,tokens:[]}),s.raw+=o}let i=s.items.at(-1);if(i)i.raw=i.raw.trimEnd(),i.text=i.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){let o=s.items[c].tokens.filter(d=>d.type==="space"),h=o.length>0&&o.some(d=>this.rules.other.anyLine.test(d.raw));s.loose=h}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(n){let e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(n){let e=this.rules.block.def.exec(n);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),l=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:l,title:s}}}table(n){var a;let e=this.rules.block.table.exec(n);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=Tn(e[1]),l=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(a=e[3])!=null&&a.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],r={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===l.length){for(let i of l)this.rules.other.tableAlignRight.test(i)?r.align.push("right"):this.rules.other.tableAlignCenter.test(i)?r.align.push("center"):this.rules.other.tableAlignLeft.test(i)?r.align.push("left"):r.align.push(null);for(let i=0;i<t.length;i++)r.header.push({text:t[i],tokens:this.lexer.inline(t[i]),header:!0,align:r.align[i]});for(let i of s)r.rows.push(Tn(i,r.header.length).map((c,o)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:r.align[o]})));return r}}lheading(n){let e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){let e=this.rules.block.paragraph.exec(n);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(n){let e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){let e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(n){let e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){let e=this.rules.inline.link.exec(n);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let r=ut(t.slice(0,-1),"\\");if((t.length-r.length)%2===0)return}else{let r=As(e[2],"()");if(r===-2)return;if(r>-1){let a=(e[0].indexOf("!")===0?5:4)+e[1].length+r;e[2]=e[2].substring(0,r),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let l=e[2],s="";if(this.options.pedantic){let r=this.rules.other.pedanticHrefTitle.exec(l);r&&(l=r[1],s=r[3])}else s=e[3]?e[3].slice(1,-1):"";return l=l.trim(),this.rules.other.startAngleBracket.test(l)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?l=l.slice(1):l=l.slice(1,-1)),Cn(e,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(n,e){let t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){let l=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[l.toLowerCase()];if(!s){let r=t[0].charAt(0);return{type:"text",raw:r,text:r}}return Cn(t,s,t[0],this.lexer,this.rules)}}emStrong(n,e,t=""){let l=this.rules.inline.emStrongLDelim.exec(n);if(!(!l||l[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(l[1]||l[2])||!t||this.rules.inline.punctuation.exec(t))){let s=[...l[0]].length-1,r,a,i=s,c=0,o=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(o.lastIndex=0,e=e.slice(-1*n.length+s);(l=o.exec(e))!=null;){if(r=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!r)continue;if(a=[...r].length,l[3]||l[4]){i+=a;continue}else if((l[5]||l[6])&&s%3&&!((s+a)%3)){c+=a;continue}if(i-=a,i>0)continue;a=Math.min(a,a+i+c);let h=[...l[0]][0].length,d=n.slice(0,s+l.index+h+a);if(Math.min(s,a)%2){let b=d.slice(1,-1);return{type:"em",raw:d,text:b,tokens:this.lexer.inlineTokens(b)}}let f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(n){let e=this.rules.inline.code.exec(n);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),l=this.rules.other.nonSpaceChar.test(t),s=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return l&&s&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(n){let e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){let e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){let e=this.rules.inline.autolink.exec(n);if(e){let t,l;return e[2]==="@"?(t=e[1],l="mailto:"+t):(t=e[1],l=t),{type:"link",raw:e[0],text:t,href:l,tokens:[{type:"text",raw:t,text:t}]}}}url(n){var t;let e;if(e=this.rules.inline.url.exec(n)){let l,s;if(e[2]==="@")l=e[0],s="mailto:"+l;else{let r;do r=e[0],e[0]=((t=this.rules.inline._backpedal.exec(e[0]))==null?void 0:t[0])??"";while(r!==e[0]);l=e[0],e[1]==="www."?s="http://"+e[0]:s=e[0]}return{type:"link",raw:e[0],text:l,href:s,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(n){let e=this.rules.inline.text.exec(n);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},Ee=class nn{constructor(e){Z(this,"tokens");Z(this,"options");Z(this,"state");Z(this,"tokenizer");Z(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Qe,this.options.tokenizer=this.options.tokenizer||new It,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:fe,block:jt.normal,inline:ct.normal};this.options.pedantic?(t.block=jt.pedantic,t.inline=ct.pedantic):this.options.gfm&&(t.block=jt.gfm,this.options.breaks?t.inline=ct.breaks:t.inline=ct.gfm),this.tokenizer.rules=t}static get rules(){return{block:jt,inline:ct}}static lex(e,t){return new nn(t).lex(e)}static lexInline(e,t){return new nn(t).inlineTokens(e)}lex(e){e=e.replace(fe.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let l=this.inlineQueue[t];this.inlineTokens(l.src,l.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],l=!1){var s,r,a;for(this.options.pedantic&&(e=e.replace(fe.tabCharGlobal,"    ").replace(fe.spaceLine,""));e;){let i;if((r=(s=this.options.extensions)==null?void 0:s.block)!=null&&r.some(o=>(i=o.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let o=t.at(-1);i.raw.length===1&&o!==void 0?o.raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let o=t.at(-1);(o==null?void 0:o.type)==="paragraph"||(o==null?void 0:o.type)==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.at(-1).src=o.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let o=t.at(-1);(o==null?void 0:o.type)==="paragraph"||(o==null?void 0:o.type)==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},t.push(i));continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}let c=e;if((a=this.options.extensions)!=null&&a.startBlock){let o=1/0,h=e.slice(1),d;this.options.extensions.startBlock.forEach(f=>{d=f.call({lexer:this},h),typeof d=="number"&&d>=0&&(o=Math.min(o,d))}),o<1/0&&o>=0&&(c=e.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(c))){let o=t.at(-1);l&&(o==null?void 0:o.type)==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(i),l=c.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let o=t.at(-1);(o==null?void 0:o.type)==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(i);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var i,c,o,h,d;let l=e,s=null;if(this.tokens.links){let f=Object.keys(this.tokens.links);if(f.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)f.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(l))!=null;)l=l.slice(0,s.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);l=((c=(i=this.options.hooks)==null?void 0:i.emStrongMask)==null?void 0:c.call({lexer:this},l))??l;let r=!1,a="";for(;e;){r||(a=""),r=!1;let f;if((h=(o=this.options.extensions)==null?void 0:o.inline)!=null&&h.some(m=>(f=m.call({lexer:this},e,t))?(e=e.substring(f.raw.length),t.push(f),!0):!1))continue;if(f=this.tokenizer.escape(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.tag(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.link(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(f.raw.length);let m=t.at(-1);f.type==="text"&&(m==null?void 0:m.type)==="text"?(m.raw+=f.raw,m.text+=f.text):t.push(f);continue}if(f=this.tokenizer.emStrong(e,l,a)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.codespan(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.br(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.del(e)){e=e.substring(f.raw.length),t.push(f);continue}if(f=this.tokenizer.autolink(e)){e=e.substring(f.raw.length),t.push(f);continue}if(!this.state.inLink&&(f=this.tokenizer.url(e))){e=e.substring(f.raw.length),t.push(f);continue}let b=e;if((d=this.options.extensions)!=null&&d.startInline){let m=1/0,w=e.slice(1),k;this.options.extensions.startInline.forEach(S=>{k=S.call({lexer:this},w),typeof k=="number"&&k>=0&&(m=Math.min(m,k))}),m<1/0&&m>=0&&(b=e.substring(0,m+1))}if(f=this.tokenizer.inlineText(b)){e=e.substring(f.raw.length),f.raw.slice(-1)!=="_"&&(a=f.raw.slice(-1)),r=!0;let m=t.at(-1);(m==null?void 0:m.type)==="text"?(m.raw+=f.raw,m.text+=f.text):t.push(f);continue}if(e){let m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return t}},$t=class{constructor(n){Z(this,"options");Z(this,"parser");this.options=n||Qe}space(n){return""}code({text:n,lang:e,escaped:t}){var r;let l=(r=(e||"").match(fe.notSpaceStart))==null?void 0:r[0],s=n.replace(fe.endingNewline,"")+`
`;return l?'<pre><code class="language-'+ze(l)+'">'+(t?s:ze(s,!0))+`</code></pre>
`:"<pre><code>"+(t?s:ze(s,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}def(n){return""}heading({tokens:n,depth:e}){return`<h${e}>${this.parser.parseInline(n)}</h${e}>
`}hr(n){return`<hr>
`}list(n){let e=n.ordered,t=n.start,l="";for(let a=0;a<n.items.length;a++){let i=n.items[a];l+=this.listitem(i)}let s=e?"ol":"ul",r=e&&t!==1?' start="'+t+'"':"";return"<"+s+r+`>
`+l+"</"+s+`>
`}listitem(n){var t;let e="";if(n.task){let l=this.checkbox({checked:!!n.checked});n.loose?((t=n.tokens[0])==null?void 0:t.type)==="paragraph"?(n.tokens[0].text=l+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&n.tokens[0].tokens[0].type==="text"&&(n.tokens[0].tokens[0].text=l+" "+ze(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:l+" ",text:l+" ",escaped:!0}):e+=l+" "}return e+=this.parser.parse(n.tokens,!!n.loose),`<li>${e}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let e="",t="";for(let s=0;s<n.header.length;s++)t+=this.tablecell(n.header[s]);e+=this.tablerow({text:t});let l="";for(let s=0;s<n.rows.length;s++){let r=n.rows[s];t="";for(let a=0;a<r.length;a++)t+=this.tablecell(r[a]);l+=this.tablerow({text:t})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+l+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){let e=this.parser.parseInline(n.tokens),t=n.header?"th":"td";return(n.align?`<${t} align="${n.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${ze(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:e,tokens:t}){let l=this.parser.parseInline(t),s=An(n);if(s===null)return l;n=s;let r='<a href="'+n+'"';return e&&(r+=' title="'+ze(e)+'"'),r+=">"+l+"</a>",r}image({href:n,title:e,text:t,tokens:l}){l&&(t=this.parser.parseInline(l,this.parser.textRenderer));let s=An(n);if(s===null)return ze(t);n=s;let r=`<img src="${n}" alt="${t}"`;return e&&(r+=` title="${ze(e)}"`),r+=">",r}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:ze(n.text)}},bn=class{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}},Pe=class ln{constructor(e){Z(this,"options");Z(this,"renderer");Z(this,"textRenderer");this.options=e||Qe,this.options.renderer=this.options.renderer||new $t,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new bn}static parse(e,t){return new ln(t).parse(e)}static parseInline(e,t){return new ln(t).parseInline(e)}parse(e,t=!0){var s,r;let l="";for(let a=0;a<e.length;a++){let i=e[a];if((r=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&r[i.type]){let o=i,h=this.options.extensions.renderers[o.type].call({parser:this},o);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){l+=h||"";continue}}let c=i;switch(c.type){case"space":{l+=this.renderer.space(c);continue}case"hr":{l+=this.renderer.hr(c);continue}case"heading":{l+=this.renderer.heading(c);continue}case"code":{l+=this.renderer.code(c);continue}case"table":{l+=this.renderer.table(c);continue}case"blockquote":{l+=this.renderer.blockquote(c);continue}case"list":{l+=this.renderer.list(c);continue}case"html":{l+=this.renderer.html(c);continue}case"def":{l+=this.renderer.def(c);continue}case"paragraph":{l+=this.renderer.paragraph(c);continue}case"text":{let o=c,h=this.renderer.text(o);for(;a+1<e.length&&e[a+1].type==="text";)o=e[++a],h+=`
`+this.renderer.text(o);t?l+=this.renderer.paragraph({type:"paragraph",raw:h,text:h,tokens:[{type:"text",raw:h,text:h,escaped:!0}]}):l+=h;continue}default:{let o='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return l}parseInline(e,t=this.renderer){var s,r;let l="";for(let a=0;a<e.length;a++){let i=e[a];if((r=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&r[i.type]){let o=this.options.extensions.renderers[i.type].call({parser:this},i);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){l+=o||"";continue}}let c=i;switch(c.type){case"escape":{l+=t.text(c);break}case"html":{l+=t.html(c);break}case"link":{l+=t.link(c);break}case"image":{l+=t.image(c);break}case"strong":{l+=t.strong(c);break}case"em":{l+=t.em(c);break}case"codespan":{l+=t.codespan(c);break}case"br":{l+=t.br(c);break}case"del":{l+=t.del(c);break}case"text":{l+=t.text(c);break}default:{let o='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return l}},Tt,ft=(Tt=class{constructor(n){Z(this,"options");Z(this,"block");this.options=n||Qe}preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}emStrongMask(n){return n}provideLexer(){return this.block?Ee.lex:Ee.lexInline}provideParser(){return this.block?Pe.parse:Pe.parseInline}},Z(Tt,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Z(Tt,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Tt),Cs=class{constructor(...n){Z(this,"defaults",an());Z(this,"options",this.setOptions);Z(this,"parse",this.parseMarkdown(!0));Z(this,"parseInline",this.parseMarkdown(!1));Z(this,"Parser",Pe);Z(this,"Renderer",$t);Z(this,"TextRenderer",bn);Z(this,"Lexer",Ee);Z(this,"Tokenizer",It);Z(this,"Hooks",ft);this.use(...n)}walkTokens(n,e){var l,s;let t=[];for(let r of n)switch(t=t.concat(e.call(this,r)),r.type){case"table":{let a=r;for(let i of a.header)t=t.concat(this.walkTokens(i.tokens,e));for(let i of a.rows)for(let c of i)t=t.concat(this.walkTokens(c.tokens,e));break}case"list":{let a=r;t=t.concat(this.walkTokens(a.items,e));break}default:{let a=r;(s=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(i=>{let c=a[i].flat(1/0);t=t.concat(this.walkTokens(c,e))}):a.tokens&&(t=t.concat(this.walkTokens(a.tokens,e)))}}return t}use(...n){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(t=>{let l={...t};if(l.async=this.defaults.async||l.async||!1,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let r=e.renderers[s.name];r?e.renderers[s.name]=function(...a){let i=s.renderer.apply(this,a);return i===!1&&(i=r.apply(this,a)),i}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let r=e[s.level];r?r.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),l.extensions=e),t.renderer){let s=this.defaults.renderer||new $t(this.defaults);for(let r in t.renderer){if(!(r in s))throw new Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;let a=r,i=t.renderer[a],c=s[a];s[a]=(...o)=>{let h=i.apply(s,o);return h===!1&&(h=c.apply(s,o)),h||""}}l.renderer=s}if(t.tokenizer){let s=this.defaults.tokenizer||new It(this.defaults);for(let r in t.tokenizer){if(!(r in s))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;let a=r,i=t.tokenizer[a],c=s[a];s[a]=(...o)=>{let h=i.apply(s,o);return h===!1&&(h=c.apply(s,o)),h}}l.tokenizer=s}if(t.hooks){let s=this.defaults.hooks||new ft;for(let r in t.hooks){if(!(r in s))throw new Error(`hook '${r}' does not exist`);if(["options","block"].includes(r))continue;let a=r,i=t.hooks[a],c=s[a];ft.passThroughHooks.has(r)?s[a]=o=>{if(this.defaults.async&&ft.passThroughHooksRespectAsync.has(r))return(async()=>{let d=await i.call(s,o);return c.call(s,d)})();let h=i.call(s,o);return c.call(s,h)}:s[a]=(...o)=>{if(this.defaults.async)return(async()=>{let d=await i.apply(s,o);return d===!1&&(d=await c.apply(s,o)),d})();let h=i.apply(s,o);return h===!1&&(h=c.apply(s,o)),h}}l.hooks=s}if(t.walkTokens){let s=this.defaults.walkTokens,r=t.walkTokens;l.walkTokens=function(a){let i=[];return i.push(r.call(this,a)),s&&(i=i.concat(s.call(this,a))),i}}this.defaults={...this.defaults,...l}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}lexer(n,e){return Ee.lex(n,e??this.defaults)}parser(n,e){return Pe.parse(n,e??this.defaults)}parseMarkdown(n){return(e,t)=>{let l={...t},s={...this.defaults,...l},r=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&l.async===!1)return r(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return r(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return r(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=n),s.async)return(async()=>{let a=s.hooks?await s.hooks.preprocess(e):e,i=await(s.hooks?await s.hooks.provideLexer():n?Ee.lex:Ee.lexInline)(a,s),c=s.hooks?await s.hooks.processAllTokens(i):i;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let o=await(s.hooks?await s.hooks.provideParser():n?Pe.parse:Pe.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(o):o})().catch(r);try{s.hooks&&(e=s.hooks.preprocess(e));let a=(s.hooks?s.hooks.provideLexer():n?Ee.lex:Ee.lexInline)(e,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let i=(s.hooks?s.hooks.provideParser():n?Pe.parse:Pe.parseInline)(a,s);return s.hooks&&(i=s.hooks.postprocess(i)),i}catch(a){return r(a)}}}onError(n,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,n){let l="<p>An error occurred:</p><pre>"+ze(t.message+"",!0)+"</pre>";return e?Promise.resolve(l):l}if(e)return Promise.reject(t);throw t}}},He=new Cs;function G(n,e){return He.parse(n,e)}G.options=G.setOptions=function(n){return He.setOptions(n),G.defaults=He.defaults,bl(G.defaults),G};G.getDefaults=an;G.defaults=Qe;G.use=function(...n){return He.use(...n),G.defaults=He.defaults,bl(G.defaults),G};G.walkTokens=function(n,e){return He.walkTokens(n,e)};G.parseInline=He.parseInline;G.Parser=Pe;G.parser=Pe.parse;G.Renderer=$t;G.TextRenderer=bn;G.Lexer=Ee;G.lexer=Ee.lex;G.Tokenizer=It;G.Hooks=ft;G.parse=G;G.options;G.setOptions;G.use;G.walkTokens;G.parseInline;Pe.parse;Ee.lex;const Ae=[{id:"01-vazduhoplovni-propisi",title:"Vazduhoplovni propisi"},{id:"02-opste-poznavanje-vazduhoplova",title:"Opšte poznavanje vazduhoplova"},{id:"03-performanse",title:"Performanse i planiranje"},{id:"04-ljudske-mogucnosti",title:"Ljudske mogućnosti"},{id:"05-meteorologija",title:"Meteorologija"},{id:"06-navigacija",title:"Navigacija"},{id:"07-operativne-procedure",title:"Operativne procedure"},{id:"08-teorija-letenja",title:"Teorija letenja"},{id:"09-komunikacije",title:"Komunikacije"}],Ve=[];function Rs(n,e=Y){let t;const l=new Set;function s(i){if(st(n,i)&&(n=i,t)){const c=!Ve.length;for(const o of l)o[1](),Ve.push(o,n);if(c){for(let o=0;o<Ve.length;o+=2)Ve[o][0](Ve[o+1]);Ve.length=0}}}function r(i){s(i(n))}function a(i,c=Y){const o=[i,c];return l.add(o),l.size===1&&(t=e(s,r)||Y),i(n),()=>{l.delete(o),l.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:a}}const Rn="ppl.theme.mode";function Es(){return typeof window>"u"?"light":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function sn(n){if(typeof document>"u")return;const e=document.documentElement;e.classList.remove("theme-light","theme-dark");const t=n==="system"?Es():n;e.classList.add(t==="dark"?"theme-dark":"theme-light");const l=document.querySelector('meta[name="theme-color"]');try{const s=getComputedStyle(e).getPropertyValue("--bg").trim();l&&s&&(l.content=s)}catch{}}const gt=Rs("system");let At=null;function Ps(){let n;gt.subscribe(t=>n=t)(),n==="system"&&sn("system")}function Is(){var e;if(typeof window>"u")return;const n=localStorage.getItem(Rn)||"system";gt.set(n),sn(n),gt.subscribe(t=>{try{localStorage.setItem(Rn,t)}catch{}sn(t)}),window.matchMedia&&(At=window.matchMedia("(prefers-color-scheme: dark)"),(e=At.addEventListener)==null||e.call(At,"change",Ps))}function Wt(n){gt.set(n)}function $s(n){let e,t,l,s,r,a,i,c,o,h,d,f,b,m;return{c(){e=g("div"),t=g("button"),l=M("☀️"),r=_(),a=g("button"),i=M("🌙"),o=_(),h=g("button"),d=M("🖥️"),p(t,"class","btn svelte-80rqza"),p(t,"aria-label","Light"),p(t,"data-active",s=n[0]==="light"),p(a,"class","btn svelte-80rqza"),p(a,"aria-label","Dark"),p(a,"data-active",c=n[0]==="dark"),p(h,"class","btn svelte-80rqza"),p(h,"aria-label","System"),p(h,"data-active",f=n[0]==="system"),p(e,"class","themeToggle svelte-80rqza")},m(w,k){j(w,e,k),u(e,t),u(t,l),u(e,r),u(e,a),u(a,i),u(e,o),u(e,h),u(h,d),b||(m=[L(t,"click",n[1]),L(a,"click",n[2]),L(h,"click",n[3])],b=!0)},p(w,[k]){k&1&&s!==(s=w[0]==="light")&&p(t,"data-active",s),k&1&&c!==(c=w[0]==="dark")&&p(a,"data-active",c),k&1&&f!==(f=w[0]==="system")&&p(h,"data-active",f)},i:Y,o:Y,d(w){w&&y(e),b=!1,_e(m)}}}function zs(n,e,t){let l;const s=()=>Wt("light"),r=()=>Wt("dark"),a=()=>Wt("system");return gt.subscribe(i=>t(0,l=i)),[l,s,r,a]}class Zt extends Nt{constructor(e){super(),Ot(this,e,zs,$s,st,{})}}const Re="__errors__",Tl="ppl.errors.v1";function qs(){try{const n=localStorage.getItem(Tl);if(!n)return[];const e=JSON.parse(n);return Array.isArray(e)?e.filter(t=>t&&typeof t=="object"&&"subjectId"in t&&"questionId"in t):[]}catch{return[]}}function Gt(n){try{localStorage.setItem(Tl,JSON.stringify(n))}catch{}}function Ht(){const n=qs(),e=new Set,t=[];for(const l of n){const s=`${l.subjectId}::${l.questionId}`;e.has(s)||(e.add(s),t.push(l))}return t.length!==n.length&&Gt(t),t}function En(n,e){const t=Ht(),l=`${n}::${e}`;t.some(r=>`${r.subjectId}::${r.questionId}`===l)||(t.push({subjectId:n,questionId:e}),Gt(t))}function Ls(n,e){const l=Ht().filter(s=>!(s.subjectId===n&&s.questionId===e));Gt(l)}function Ms(){Gt([])}function Os(){return Ht().length}function rn(){const n=new Map;for(const{subjectId:e,questionId:t}of Ht())n.has(e)||n.set(e,new Set),n.get(e).add(t);return n}function Jt(n){const e=n.slice(),t=e[5].questions[e[6]].image;return e[73]=t,e}function Pn(n,e,t){const l=n.slice();return l[74]=e[t],l[76]=t,l}function In(n,e,t){const l=n.slice();return l[77]=e[t],l[76]=t,l}function Ns(n,e,t){const l=n.slice();return l[70]=e[t],l}function Bs(n){let e=n[6],t,l,s=Un(n);return{c(){s.c(),t=mt()},m(r,a){s.m(r,a),j(r,t,a),l=!0},p(r,a){a[0]&64&&st(e,e=r[6])?(Lt(),de(s,1,1,Y),Mt(),s=Un(r),s.c(),pe(s,1),s.m(t.parentNode,t)):s.p(r,a)},i(r){l||(pe(s),l=!0)},o(r){de(s),l=!1},d(r){r&&y(t),s.d(r)}}}function Ds(n){let e,t,l,s=n[5].subject+"",r,a,i,c,o,h,d,f,b,m;const w=[nr,tr],k=[];function S(A,C){return A[23]?0:1}c=S(n),o=k[c]=w[c](n);let E=n[9]&&Qn(n);return{c(){e=g("div"),t=g("header"),l=g("h1"),r=M(s),a=_(),i=g("div"),o.c(),h=_(),d=g("main"),E&&E.c(),f=_(),b=g("p"),b.textContent="Nema pitanja u setu.",p(l,"class","svelte-cpbxo9"),p(i,"class","toolbar svelte-cpbxo9"),p(t,"class","svelte-cpbxo9"),p(d,"class","svelte-cpbxo9"),p(e,"class","page svelte-cpbxo9")},m(A,C){j(A,e,C),u(e,t),u(t,l),u(l,r),u(t,a),u(t,i),k[c].m(i,null),u(e,h),u(e,d),E&&E.m(d,null),u(d,f),u(d,b),m=!0},p(A,C){(!m||C[0]&32)&&s!==(s=A[5].subject+"")&&W(r,s);let q=c;c=S(A),c===q?k[c].p(A,C):(Lt(),de(k[q],1,1,()=>{k[q]=null}),Mt(),o=k[c],o?o.p(A,C):(o=k[c]=w[c](A),o.c()),pe(o,1),o.m(i,null)),A[9]?E?E.p(A,C):(E=Qn(A),E.c(),E.m(d,f)):E&&(E.d(1),E=null)},i(A){m||(pe(o),m=!0)},o(A){de(o),m=!1},d(A){A&&y(e),k[c].d(),E&&E.d()}}}function Zs(n){let e;return{c(){e=g("div"),e.innerHTML='<header class="svelte-cpbxo9"><h1 class="svelte-cpbxo9">Priprema PPL</h1></header> <main class="svelte-cpbxo9"><p>Učitavanje…</p></main>',p(e,"class","page svelte-cpbxo9")},m(t,l){j(t,e,l)},p:Y,i:Y,o:Y,d(t){t&&y(e)}}}function Gs(n){let e=n[6]+1+"",t,l,s=n[5].questions.length+"",r;return{c(){t=M(e),l=M("/"),r=M(s)},m(a,i){j(a,t,i),j(a,l,i),j(a,r,i)},p(a,i){i[0]&64&&e!==(e=a[6]+1+"")&&W(t,e),i[0]&32&&s!==(s=a[5].questions.length+"")&&W(r,s)},d(a){a&&(y(t),y(l),y(r))}}}function Hs(n){let e=n[21]+1+"",t,l,s=n[2].length+"",r;return{c(){t=M(e),l=M("/"),r=M(s)},m(a,i){j(a,t,i),j(a,l,i),j(a,r,i)},p(a,i){i[0]&2097152&&e!==(e=a[21]+1+"")&&W(t,e),i[0]&4&&s!==(s=a[2].length+"")&&W(r,s)},d(a){a&&(y(t),y(l),y(r))}}}function $n(n){let e,t,l,s,r,a;return{c(){e=g("label"),t=g("input"),l=_(),s=g("span"),s.textContent="Simuliraj ispit",p(t,"type","checkbox"),t.checked=n[20],p(s,"class","label-text svelte-cpbxo9"),p(e,"class","exam-toggle svelte-cpbxo9")},m(i,c){j(i,e,c),u(e,t),u(e,l),u(e,s),r||(a=L(t,"change",n[40]),r=!0)},p(i,c){c[0]&1048576&&(t.checked=i[20])},d(i){i&&y(e),r=!1,a()}}}function Ks(n){let e,t,l;return{c(){e=g("button"),e.textContent="Enable AI",p(e,"class","ai-badge ai-disabled svelte-cpbxo9"),p(e,"title","Подесите API кључ за AI објашњења"),p(e,"type","button")},m(s,r){j(s,e,r),t||(l=L(e,"click",n[48]),t=!0)},p:Y,d(s){s&&y(e),t=!1,l()}}}function Us(n){let e,t,l;return{c(){e=g("button"),e.textContent="AI ✓",p(e,"class","ai-badge ai-enabled svelte-cpbxo9"),p(e,"title","AI објашњења су укључена"),p(e,"type","button")},m(s,r){j(s,e,r),t||(l=L(e,"click",n[47]),t=!0)},p:Y,d(s){s&&y(e),t=!1,l()}}}function zn(n){let e,t,l,s,r,a,i,c=n[5].questions.length+"",o,h,d,f=Ne(n[5].questions),b=[];for(let m=0;m<f.length;m+=1)b[m]=qn(In(n,f,m));return{c(){e=g("div"),t=g("label"),t.textContent="Питање",l=_(),s=g("select");for(let m=0;m<b.length;m+=1)b[m].c();r=_(),a=g("small"),i=M("од "),o=M(c),p(t,"for","qselect"),p(t,"class","svelte-cpbxo9"),p(s,"id","qselect"),p(s,"class","svelte-cpbxo9"),n[6]===void 0&&lt(()=>n[49].call(s)),p(a,"class","svelte-cpbxo9"),p(e,"class","qnav svelte-cpbxo9")},m(m,w){j(m,e,w),u(e,t),u(e,l),u(e,s);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(s,null);nt(s,n[6],!0),u(e,r),u(e,a),u(a,i),u(a,o),h||(d=[L(s,"change",n[36]),L(s,"change",n[49])],h=!0)},p(m,w){if(w[0]&32){f=Ne(m[5].questions);let k;for(k=0;k<f.length;k+=1){const S=In(m,f,k);b[k]?b[k].p(S,w):(b[k]=qn(S),b[k].c(),b[k].m(s,null))}for(;k<b.length;k+=1)b[k].d(1);b.length=f.length}w[0]&64&&nt(s,m[6]),w[0]&32&&c!==(c=m[5].questions.length+"")&&W(o,c)},d(m){m&&y(e),bt(b,m),h=!1,_e(d)}}}function qn(n){let e;return{c(){e=g("option"),e.textContent=`${n[76]+1}`,e.__value=n[76],Ze(e,e.__value)},m(t,l){j(t,e,l)},p:Y,d(t){t&&y(e)}}}function Ln(n){let e,t=n[74].text+"",l,s,r,a,i;function c(){return n[50](n[76])}return{c(){e=g("button"),l=M(t),s=_(),p(e,"class",r="option "+(n[10]!==null&&n[74].isCorrect?"correct":"")+" "+(n[10]===n[76]&&!n[74].isCorrect?"wrong":"")+" svelte-cpbxo9")},m(o,h){j(o,e,h),u(e,l),u(e,s),a||(i=L(e,"click",c),a=!0)},p(o,h){n=o,h[0]&128&&t!==(t=n[74].text+"")&&W(l,t),h[0]&1152&&r!==(r="option "+(n[10]!==null&&n[74].isCorrect?"correct":"")+" "+(n[10]===n[76]&&!n[74].isCorrect?"wrong":"")+" svelte-cpbxo9")&&p(e,"class",r)},d(o){o&&y(e),a=!1,i()}}}function Mn(n){let e,t=n[5].questions[n[6]].comment+"",l;return{c(){e=g("div"),l=M(t),p(e,"class","comment svelte-cpbxo9")},m(s,r){j(s,e,r),u(e,l)},p(s,r){r[0]&96&&t!==(t=s[5].questions[s[6]].comment+"")&&W(l,t)},d(s){s&&y(e)}}}function On(n){let e,t=n[19]===n[5].questions[n[6]].id&&Nn(n);return{c(){t&&t.c(),e=mt()},m(l,s){t&&t.m(l,s),j(l,e,s)},p(l,s){l[19]===l[5].questions[l[6]].id?t?t.p(l,s):(t=Nn(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&y(e),t&&t.d(l)}}}function Nn(n){let e;function t(r,a){if(r[18])return Ys;if(r[1]||r[17])return Qs}let l=t(n),s=l&&l(n);return{c(){s&&s.c(),e=mt()},m(r,a){s&&s.m(r,a),j(r,e,a)},p(r,a){l===(l=t(r))&&s?s.p(r,a):(s&&s.d(1),s=l&&l(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&y(e),s&&s.d(r)}}}function Qs(n){let e,t,l,s,r=n[17]&&Bn();function a(o,h){return o[1]?Ws:Fs}let i=a(n),c=i(n);return{c(){e=g("div"),t=g("div"),l=M(`Објашњење:
                        `),r&&r.c(),s=_(),c.c(),p(t,"class","explanation-header svelte-cpbxo9"),p(e,"class","explanation svelte-cpbxo9")},m(o,h){j(o,e,h),u(e,t),u(t,l),r&&r.m(t,null),u(e,s),c.m(e,null)},p(o,h){o[17]?r||(r=Bn(),r.c(),r.m(t,null)):r&&(r.d(1),r=null),i===(i=a(o))&&c?c.p(o,h):(c.d(1),c=i(o),c&&(c.c(),c.m(e,null)))},d(o){o&&y(e),r&&r.d(),c.d()}}}function Ys(n){let e,t,l,s,r=!n[13]&&Dn(n);return{c(){e=g("div"),t=g("p"),l=M(n[18]),s=_(),r&&r.c(),p(t,"class","svelte-cpbxo9"),p(e,"class","explanation-error svelte-cpbxo9")},m(a,i){j(a,e,i),u(e,t),u(t,l),u(e,s),r&&r.m(e,null)},p(a,i){i[0]&262144&&W(l,a[18]),a[13]?r&&(r.d(1),r=null):r?r.p(a,i):(r=Dn(a),r.c(),r.m(e,null))},d(a){a&&y(e),r&&r.d()}}}function Bn(n){let e;return{c(){e=g("span"),e.textContent="(генеришем...)",p(e,"class","loading-indicator svelte-cpbxo9")},m(t,l){j(t,e,l)},d(t){t&&y(e)}}}function Fs(n){let e;return{c(){e=g("div"),e.textContent="Генеришем објашњење...",p(e,"class","explanation-loading svelte-cpbxo9")},m(t,l){j(t,e,l)},p:Y,d(t){t&&y(e)}}}function Ws(n){let e;return{c(){e=g("div"),p(e,"class","explanation-text svelte-cpbxo9")},m(t,l){j(t,e,l),e.innerHTML=n[26]},p(t,l){l[0]&67108864&&(e.innerHTML=t[26])},d(t){t&&y(e)}}}function Dn(n){let e,t,l;return{c(){e=g("button"),e.textContent="Подеси API кључ",p(e,"class","btn btn-info svelte-cpbxo9")},m(s,r){j(s,e,r),t||(l=L(e,"click",n[51]),t=!0)},p:Y,d(s){s&&y(e),t=!1,l()}}}function Zn(n){let e,t,l,s,r,a;function i(){return n[52](n[73])}return{c(){e=g("div"),t=g("button"),l=g("img"),Rt(l.src,s=qt(n[73]))||p(l,"src",s),p(l,"alt",""),p(l,"role","presentation"),p(l,"class","svelte-cpbxo9"),p(t,"class","image-button svelte-cpbxo9"),p(t,"aria-label","Click to enlarge image"),p(e,"class","question-image svelte-cpbxo9")},m(c,o){j(c,e,o),u(e,t),u(t,l),r||(a=L(t,"click",i),r=!0)},p(c,o){n=c,o[0]&96&&!Rt(l.src,s=qt(n[73]))&&p(l,"src",s)},d(c){c&&y(e),r=!1,a()}}}function Gn(n){let e,t=n[3]>0&&Hn(n);return{c(){e=g("div"),t&&t.c(),p(e,"class","exam-result svelte-cpbxo9")},m(l,s){j(l,e,s),t&&t.m(e,null)},p(l,s){l[3]>0?t?t.p(l,s):(t=Hn(l),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(l){l&&y(e),t&&t.d()}}}function Hn(n){let e,t,l,s,r,a,i,c,o,h,d,f,b,m,w,k,S,E,A;function C($,N){return $[24]?Xs:Js}let q=C(n),T=q(n);return{c(){e=g("div"),t=g("h2"),t.textContent="Rezultat ispita",l=_(),s=g("p"),r=g("strong"),a=M(n[4]),i=M(" / "),c=M(n[3]),o=M(" ("),h=M(n[25]),d=M("%)"),f=_(),T.c(),b=_(),m=g("div"),w=g("button"),w.textContent="Ponovi ispit",k=_(),S=g("button"),S.textContent="Izađi iz ispita",p(t,"class","svelte-cpbxo9"),p(m,"class","actions svelte-cpbxo9"),p(e,"class","exam-summary svelte-cpbxo9")},m($,N){j($,e,N),u(e,t),u(e,l),u(e,s),u(s,r),u(r,a),u(s,i),u(s,c),u(s,o),u(s,h),u(s,d),u(e,f),T.m(e,null),u(e,b),u(e,m),u(m,w),u(m,k),u(m,S),E||(A=[L(w,"click",n[42]),L(S,"click",n[39])],E=!0)},p($,N){N[0]&16&&W(a,$[4]),N[0]&8&&W(c,$[3]),N[0]&33554432&&W(h,$[25]),q!==(q=C($))&&(T.d(1),T=q($),T&&(T.c(),T.m(e,b)))},d($){$&&y(e),T.d(),E=!1,_e(A)}}}function Js(n){let e;return{c(){e=g("p"),e.textContent="Niste položili ispit.",p(e,"class","fail svelte-cpbxo9")},m(t,l){j(t,e,l)},d(t){t&&y(e)}}}function Xs(n){let e;return{c(){e=g("p"),e.textContent="Položili ste ispit.",p(e,"class","pass svelte-cpbxo9")},m(t,l){j(t,e,l)},d(t){t&&y(e)}}}function Kn(n){let e,t,l,s;return{c(){e=g("div"),t=g("button"),t.textContent="Prikaži tačan odgovor",p(t,"class","btn btn-success-outline svelte-cpbxo9"),p(e,"class","bottomActions svelte-cpbxo9")},m(r,a){j(r,e,a),u(e,t),l||(s=L(t,"click",n[38]),l=!0)},p:Y,d(r){r&&y(e),l=!1,s()}}}function Vs(n){let e,t,l;return{c(){e=g("button"),e.textContent="Završi ispit",p(e,"class","btn btn-warning svelte-cpbxo9")},m(s,r){j(s,e,r),t||(l=L(e,"click",n[41]),t=!0)},p:Y,d(s){s&&y(e),t=!1,l()}}}function er(n){let e,t,l;return{c(){e=g("button"),e.textContent="Slučajno",p(e,"class","btn btn-secondary svelte-cpbxo9")},m(s,r){j(s,e,r),t||(l=L(e,"click",n[31]),t=!0)},p:Y,d(s){s&&y(e),t=!1,l()}}}function Un(n){var wt;let e,t,l,s=n[5].subject+"",r,a,i,c,o,h,d,f=n[5].lang+"",b,m,w,k,S,E,A,C,q,T,$,N=n[5].questions[n[6]].question+"",z,H,I,P,R,U,B,xe,ne,ge,be,we,J,Te,qe,Le,Ie,K,V,Ce;function _t(x,Q){return x[20]?Hs:Gs}let Ye=_t(n),ve=Ye(n);k=new Zt({});let le=!n[23]&&$n(n);function it(x,Q){return x[13]?Us:Ks}let Fe=it(n),me=Fe(n),ee=!n[20]&&zn(n),Be=Ne(n[7]),te=[];for(let x=0;x<Be.length;x+=1)te[x]=Ln(Pn(n,Be,x));let se=n[5].questions[n[6]].comment&&!n[20]&&Mn(n),re=!n[20]&&n[10]!==null&&!((wt=n[7][n[10]])!=null&&wt.isCorrect)&&On(n),ie=n[5].questions[n[6]].image&&Zn(Jt(n)),oe=n[20]&&n[22]&&Gn(n),ae=!n[20]&&Kn(n);function xt(x,Q){return x[20]?Vs:er}let We=xt(n),ye=We(n);return{c(){e=g("div"),t=g("header"),l=g("h1"),r=M(s),a=_(),i=g("div"),c=g("button"),c.textContent="← Predmeti",o=_(),h=g("small"),d=M("#"),b=M(f),m=M(` ·
              `),ve.c(),w=_(),rt(k.$$.fragment),S=_(),le&&le.c(),E=_(),me.c(),A=_(),C=g("main"),q=g("div"),T=g("div"),$=g("div"),z=M(N),H=_(),ee&&ee.c(),I=_(),P=g("div");for(let x=0;x<te.length;x+=1)te[x].c();R=_(),se&&se.c(),U=_(),re&&re.c(),B=_(),ie&&ie.c(),ne=_(),oe&&oe.c(),ge=_(),be=g("div"),ae&&ae.c(),we=_(),J=g("nav"),Te=g("button"),Te.textContent="← Nazad",qe=_(),ye.c(),Le=_(),Ie=g("button"),Ie.textContent="Sledeće →",p(l,"class","svelte-cpbxo9"),p(c,"class","back svelte-cpbxo9"),p(h,"class","svelte-cpbxo9"),p(i,"class","toolbar svelte-cpbxo9"),p(t,"class","svelte-cpbxo9"),p($,"class","question svelte-cpbxo9"),p(P,"class","options svelte-cpbxo9"),p(T,"class","card svelte-cpbxo9"),p(q,"class",xe="question-container "+(n[5].questions[n[6]].image?"has-image":"no-image")+" svelte-cpbxo9"),p(Te,"class","btn btn-neutral svelte-cpbxo9"),p(Ie,"class","btn btn-primary svelte-cpbxo9"),p(J,"class","bottomNav svelte-cpbxo9"),p(be,"class","bottomBar svelte-cpbxo9"),p(C,"class","svelte-cpbxo9"),p(e,"class","page svelte-cpbxo9")},m(x,Q){j(x,e,Q),u(e,t),u(t,l),u(l,r),u(t,a),u(t,i),u(i,c),u(i,o),u(i,h),u(h,d),u(h,b),u(h,m),ve.m(h,null),u(i,w),Ke(k,i,null),u(i,S),le&&le.m(i,null),u(i,E),me.m(i,null),u(e,A),u(e,C),u(C,q),u(q,T),u(T,$),u($,z),u(T,H),ee&&ee.m(T,null),u(T,I),u(T,P);for(let Me=0;Me<te.length;Me+=1)te[Me]&&te[Me].m(P,null);u(T,R),se&&se.m(T,null),u(T,U),re&&re.m(T,null),u(q,B),ie&&ie.m(q,null),u(C,ne),oe&&oe.m(C,null),u(C,ge),u(C,be),ae&&ae.m(be,null),u(be,we),u(be,J),u(J,Te),u(J,qe),ye.m(J,null),u(J,Le),u(J,Ie),K=!0,V||(Ce=[L(c,"click",Cl),L(Te,"click",n[30]),L(Ie,"click",n[29])],V=!0)},p(x,Q){var Me;if((!K||Q[0]&32)&&s!==(s=x[5].subject+"")&&W(r,s),(!K||Q[0]&32)&&f!==(f=x[5].lang+"")&&W(b,f),Ye===(Ye=_t(x))&&ve?ve.p(x,Q):(ve.d(1),ve=Ye(x),ve&&(ve.c(),ve.m(h,null))),x[23]?le&&(le.d(1),le=null):le?le.p(x,Q):(le=$n(x),le.c(),le.m(i,E)),Fe===(Fe=it(x))&&me?me.p(x,Q):(me.d(1),me=Fe(x),me&&(me.c(),me.m(i,null))),(!K||Q[0]&96)&&N!==(N=x[5].questions[x[6]].question+"")&&W(z,N),x[20]?ee&&(ee.d(1),ee=null):ee?ee.p(x,Q):(ee=zn(x),ee.c(),ee.m(T,I)),Q[0]&1408|Q[1]&64){Be=Ne(x[7]);let he;for(he=0;he<Be.length;he+=1){const vt=Pn(x,Be,he);te[he]?te[he].p(vt,Q):(te[he]=Ln(vt),te[he].c(),te[he].m(P,null))}for(;he<te.length;he+=1)te[he].d(1);te.length=Be.length}x[5].questions[x[6]].comment&&!x[20]?se?se.p(x,Q):(se=Mn(x),se.c(),se.m(T,U)):se&&(se.d(1),se=null),!x[20]&&x[10]!==null&&!((Me=x[7][x[10]])!=null&&Me.isCorrect)?re?re.p(x,Q):(re=On(x),re.c(),re.m(T,null)):re&&(re.d(1),re=null),x[5].questions[x[6]].image?ie?ie.p(Jt(x),Q):(ie=Zn(Jt(x)),ie.c(),ie.m(q,null)):ie&&(ie.d(1),ie=null),(!K||Q[0]&96&&xe!==(xe="question-container "+(x[5].questions[x[6]].image?"has-image":"no-image")+" svelte-cpbxo9"))&&p(q,"class",xe),x[20]&&x[22]?oe?oe.p(x,Q):(oe=Gn(x),oe.c(),oe.m(C,ge)):oe&&(oe.d(1),oe=null),x[20]?ae&&(ae.d(1),ae=null):ae?ae.p(x,Q):(ae=Kn(x),ae.c(),ae.m(be,we)),We===(We=xt(x))&&ye?ye.p(x,Q):(ye.d(1),ye=We(x),ye&&(ye.c(),ye.m(J,Le)))},i(x){K||(pe(k.$$.fragment,x),K=!0)},o(x){de(k.$$.fragment,x),K=!1},d(x){x&&y(e),ve.d(),Ue(k),le&&le.d(),me.d(),ee&&ee.d(),bt(te,x),se&&se.d(),re&&re.d(),ie&&ie.d(),oe&&oe.d(),ae&&ae.d(),ye.d(),V=!1,_e(Ce)}}}function tr(n){let e,t,l,s,r,a,i,c,o=Ne(Ae),h=[];for(let d=0;d<o.length;d+=1)h[d]=lr(Ns(n,o,d));return r=new Zt({}),{c(){e=g("label"),e.textContent="Predmet",t=_(),l=g("select");for(let d=0;d<h.length;d+=1)h[d].c();s=_(),rt(r.$$.fragment),p(e,"for","subject"),p(e,"class","svelte-cpbxo9"),p(l,"id","subject"),p(l,"class","svelte-cpbxo9"),n[0]===void 0&&lt(()=>n[46].call(l))},m(d,f){j(d,e,f),j(d,t,f),j(d,l,f);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(l,null);nt(l,n[0],!0),j(d,s,f),Ke(r,d,f),a=!0,i||(c=[L(l,"change",n[46]),L(l,"change",n[35])],i=!0)},p(d,f){f[0]&1&&nt(l,d[0])},i(d){a||(pe(r.$$.fragment,d),a=!0)},o(d){de(r.$$.fragment,d),a=!1},d(d){d&&(y(e),y(t),y(l),y(s)),bt(h,d),Ue(r,d),i=!1,_e(c)}}}function nr(n){let e,t,l,s,r,a;return l=new Zt({}),{c(){e=g("button"),e.textContent="← Predmeti",t=_(),rt(l.$$.fragment),p(e,"class","back svelte-cpbxo9")},m(i,c){j(i,e,c),j(i,t,c),Ke(l,i,c),s=!0,r||(a=L(e,"click",Cl),r=!0)},p:Y,i(i){s||(pe(l.$$.fragment,i),s=!0)},o(i){de(l.$$.fragment,i),s=!1},d(i){i&&(y(e),y(t)),Ue(l,i),r=!1,a()}}}function lr(n){let e;return{c(){e=g("option"),e.textContent=`${n[70].title}`,e.__value=n[70].id,Ze(e,e.__value)},m(t,l){j(t,e,l)},p:Y,d(t){t&&y(e)}}}function Qn(n){let e,t;return{c(){e=g("div"),t=M(n[9]),p(e,"class","errorBox svelte-cpbxo9")},m(l,s){j(l,e,s),u(e,t)},p(l,s){s[0]&512&&W(t,l[9])},d(l){l&&y(e)}}}function Yn(n){let e,t,l,s,r,a;return{c(){e=g("div"),t=g("div"),l=g("img"),Rt(l.src,s=n[12])||p(l,"src",s),p(l,"alt",""),p(l,"role","presentation"),p(l,"class","svelte-cpbxo9"),p(t,"class","image-modal-content svelte-cpbxo9"),p(t,"role","none"),p(e,"class","image-modal svelte-cpbxo9"),p(e,"role","dialog"),p(e,"aria-modal","true"),p(e,"aria-label","Enlarged image"),p(e,"tabindex","-1")},m(i,c){j(i,e,c),u(e,t),u(t,l),r||(a=[L(t,"click",dl(n[45])),L(e,"click",n[28]),L(e,"keydown",n[53])],r=!0)},p(i,c){c[0]&4096&&!Rt(l.src,s=i[12])&&p(l,"src",s)},d(i){i&&y(e),r=!1,_e(a)}}}function Fn(n){let e,t,l,s,r,a,i,c,o,h,d,f,b,m,w,k,S,E,A,C,q,T,$,N,z,H,I,P,R,U,B,xe,ne,ge,be,we,J,Te,qe,Le,Ie,K=n[13]&&Wn(n);return{c(){e=g("div"),t=g("div"),l=g("div"),s=g("h2"),s.textContent="Подешавања ChatGPT објашњења",r=_(),a=g("button"),a.textContent="×",i=_(),c=g("div"),o=g("p"),o.textContent=`За генерисање објашњења неправилних одговора потребан је OpenAI API кључ.
          Кључ се чува локално у вашем претраживачу и не шаље се на сервер.`,h=_(),d=g("label"),d.textContent="OpenAI API кључ:",f=_(),b=g("input"),m=_(),w=g("div"),k=g("label"),S=g("input"),E=_(),A=g("span"),A.textContent="Аутоматски генериши објашњење за неправилне одговоре",C=_(),q=g("p"),q.textContent='Ако је искључено, објашњење ће се генерисати само када кликнете на дугме "Објасни одговор".',T=_(),$=g("div"),N=g("label"),N.textContent="Језик објашњења:",z=_(),H=g("select"),I=g("option"),I.textContent="Српски",P=g("option"),P.textContent="Русский",R=g("option"),R.textContent="English",U=_(),B=g("p"),B.textContent="Изаберите језик на коме ће AI генерисати објашњења.",xe=_(),ne=g("div"),ge=g("button"),ge.textContent="Сачувај",be=_(),we=g("button"),we.textContent="Откажи",J=_(),K&&K.c(),Te=_(),qe=g("p"),qe.innerHTML='Можете добити API кључ на <a href="https://platform.openai.com/api-keys" target="_blank" rel="noopener noreferrer" class="svelte-cpbxo9">platform.openai.com</a>',p(s,"class","svelte-cpbxo9"),p(a,"class","modal-close svelte-cpbxo9"),p(a,"aria-label","Затвори"),p(l,"class","modal-header svelte-cpbxo9"),p(o,"class","modal-info svelte-cpbxo9"),p(d,"for","api-key-input"),p(d,"class","svelte-cpbxo9"),p(b,"id","api-key-input"),p(b,"type","password"),p(b,"class","api-key-input svelte-cpbxo9"),p(b,"placeholder","sk-..."),p(S,"id","auto-explanation-toggle"),p(S,"type","checkbox"),S.checked=n[14],p(S,"class","svelte-cpbxo9"),p(A,"class","toggle-text svelte-cpbxo9"),p(k,"class","toggle-label svelte-cpbxo9"),p(k,"for","auto-explanation-toggle"),p(q,"class","setting-hint svelte-cpbxo9"),p(w,"class","setting-toggle svelte-cpbxo9"),p(N,"for","explanation-lang-select"),p(N,"class","svelte-cpbxo9"),I.__value="sr",Ze(I,I.__value),P.__value="ru",Ze(P,P.__value),R.__value="en",Ze(R,R.__value),p(H,"id","explanation-lang-select"),p(H,"class","lang-select svelte-cpbxo9"),n[15]===void 0&&lt(()=>n[57].call(H)),p(B,"class","setting-hint svelte-cpbxo9"),p($,"class","setting-group svelte-cpbxo9"),p(ge,"class","btn btn-primary svelte-cpbxo9"),p(we,"class","btn btn-neutral svelte-cpbxo9"),p(ne,"class","modal-actions svelte-cpbxo9"),p(qe,"class","modal-help svelte-cpbxo9"),p(c,"class","modal-body svelte-cpbxo9"),p(t,"class","modal-content svelte-cpbxo9"),p(t,"role","none"),p(e,"class","modal-overlay svelte-cpbxo9"),p(e,"role","dialog"),p(e,"aria-modal","true"),p(e,"aria-label","API Key Settings"),p(e,"tabindex","-1")},m(V,Ce){j(V,e,Ce),u(e,t),u(t,l),u(l,s),u(l,r),u(l,a),u(t,i),u(t,c),u(c,o),u(c,h),u(c,d),u(c,f),u(c,b),Ze(b,n[13]),u(c,m),u(c,w),u(w,k),u(k,S),u(k,E),u(k,A),u(w,C),u(w,q),u(c,T),u(c,$),u($,N),u($,z),u($,H),u(H,I),u(H,P),u(H,R),nt(H,n[15],!0),u($,U),u($,B),u(c,xe),u(c,ne),u(ne,ge),u(ne,be),u(ne,we),u(ne,J),K&&K.m(ne,null),u(c,Te),u(c,qe),Le||(Ie=[L(a,"click",n[54]),L(b,"input",n[55]),L(b,"keydown",n[56]),L(S,"change",n[34]),L(H,"change",n[57]),L(ge,"click",n[32]),L(we,"click",n[58]),L(t,"click",dl(n[44])),L(e,"click",n[59]),L(e,"keydown",n[60])],Le=!0)},p(V,Ce){Ce[0]&8192&&b.value!==V[13]&&Ze(b,V[13]),Ce[0]&16384&&(S.checked=V[14]),Ce[0]&32768&&nt(H,V[15]),V[13]?K?K.p(V,Ce):(K=Wn(V),K.c(),K.m(ne,null)):K&&(K.d(1),K=null)},d(V){V&&y(e),K&&K.d(),Le=!1,_e(Ie)}}}function Wn(n){let e,t,l;return{c(){e=g("button"),e.textContent="Обриши кључ",p(e,"class","btn btn-warning svelte-cpbxo9")},m(s,r){j(s,e,r),t||(l=L(e,"click",n[33]),t=!0)},p:Y,d(s){s&&y(e),t=!1,l()}}}function sr(n){let e,t,l,s,r,a;const i=[Zs,Ds,Bs],c=[];function o(f,b){return f[5]?f[5].questions.length===0?1:2:0}e=o(n),t=c[e]=i[e](n);let h=n[11]&&Yn(n),d=n[16]&&Fn(n);return{c(){t.c(),l=_(),h&&h.c(),s=_(),d&&d.c(),r=mt()},m(f,b){c[e].m(f,b),j(f,l,b),h&&h.m(f,b),j(f,s,b),d&&d.m(f,b),j(f,r,b),a=!0},p(f,b){let m=e;e=o(f),e===m?c[e].p(f,b):(Lt(),de(c[m],1,1,()=>{c[m]=null}),Mt(),t=c[e],t?t.p(f,b):(t=c[e]=i[e](f),t.c()),pe(t,1),t.m(l.parentNode,l)),f[11]?h?h.p(f,b):(h=Yn(f),h.c(),h.m(s.parentNode,s)):h&&(h.d(1),h=null),f[16]?d?d.p(f,b):(d=Fn(f),d.c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null)},i(f){a||(pe(t),a=!0)},o(f){de(t),a=!1},d(f){f&&(y(l),y(s),y(r)),c[e].d(f),h&&h.d(f),d&&d.d(f)}}}const on="ppl.usr_pref_01",Xt="ppl.auto_explanation",Jn="ppl.explanation_lang",zt="ppl2025_secure_key_obfuscation",Vt="ppl.index.",Xn="ppl.subject";function rr(n){let e="";for(let t=0;t<n.length;t++){const l=n.charCodeAt(t)^zt.charCodeAt(t%zt.length);e+=String.fromCharCode(l)}return btoa(e)}function ir(n){try{const e=atob(n);let t="";for(let l=0;l<e.length;l++){const s=e.charCodeAt(l)^zt.charCodeAt(l%zt.length);t+=String.fromCharCode(s)}return t}catch{return""}}function or(){const n=localStorage.getItem(on);if(!n)return"";try{return ir(n)}catch{return""}}function Vn(n){n?localStorage.setItem(on,rr(n)):localStorage.removeItem(on)}function el(n){const e=[...n];for(let t=e.length-1;t>0;t--){const l=Math.floor(Math.random()*(t+1));[e[t],e[l]]=[e[l],e[t]]}return e}function qt(n){if(!n)return"";const e="/ppl2025/";return`${e.endsWith("/")?e:e+"/"}images/${n}`}function ar(n){return{sr:"Ти си стручни асистент за теорију ваздухопловства (PPL) на српском језику. Дајеш детаљна, разумљива и практична објашњења са конкретним примерима из ваздухопловства. Увек наводиш практичне примере, ситуације из стварног летења и конкретне последице. Ако видиш слику, детаљно објасни шта она показује и како се то односи на питање. Твоја објашњења су структурирана, образовална и фокусирана на разумевање, а не само на запамћивање. Увек користиш Markdown форматирање за структурирање одговора (заглавља, спискове, жирни текст, курзив).",ru:"Ты — профессиональный ассистент по теории авиации (PPL) на русском языке. Ты даёшь детальные, понятные и практичные объяснения с конкретными примерами из авиации. Всегда приводишь практические примеры, ситуации из реальных полётов и конкретные последствия. Если видишь изображение, подробно объясни, что оно показывает и как это относится к вопросу. Твои объяснения структурированы, образовательны и сфокусированы на понимание, а не только на запоминание. Всегда используешь форматирование Markdown для структурирования ответа (заголовки, списки, жирный текст, курсив).",en:"You are a professional assistant for aviation theory (PPL) in English. You provide detailed, clear, and practical explanations with specific examples from aviation. You always include practical examples, situations from real flights, and specific consequences. If you see an image, explain in detail what it shows and how it relates to the question. Your explanations are structured, educational, and focused on understanding, not just memorization. You always use Markdown formatting to structure your responses (headings, lists, bold text, italic)."}[n]}async function cr(n){try{const t=await(await fetch(n)).blob();return new Promise((l,s)=>{const r=new FileReader;r.onloadend=()=>{const a=r.result,i=a.includes(",")?a.split(",")[1]:a;l(i)},r.onerror=s,r.readAsDataURL(t)})}catch{throw new Error("Не могу да учитам слику.")}}function Cl(){location.hash="#/"}function ur(n,e,t){let l,s,r,a,i,c,o=null,h=0,d=[],f=!1,b="01-vazduhoplovni-propisi",m="",w=null,k=null,S=!1,E="",A=or(),C=localStorage.getItem(Xt)!=="false",q=localStorage.getItem(Jn)||"sr",T=!1,$=!1,N="",z="",H=null,I=!1,P=[],R=0,U=[],B=!1;function xe(v){return!!v&&(v===Re||Ae.some(D=>D.id===v))}function ne(v){const D=Ae.find(F=>F.id===v);return v===Re?"Greške":D?D.title:"PPL"}async function ge(v){const D=location.hash||"",F=new URLSearchParams(D.split("?")[1]||""),ke=new URLSearchParams(location.search),Se=v||F.get("s")||ke.get("s")||localStorage.getItem(Xn)||Ae[0].id;if(t(0,b=xe(Se)?Se:Ae[0].id),t(9,m=""),b===Re){const je=rn(),ce=[];for(const[ue,X]of je.entries())try{const Je=await fetch(`/ppl2025/data/${ue}.json`,{cache:"no-store"});if(!Je.ok)continue;const mn=await Je.json();for(const De of mn.questions)X.has(De.id)&&ce.push({...De})}catch{}t(5,o={subject:ne(Re),lang:"sr",version:1,questions:ce}),t(6,h=0),J();return}else{try{const ue=await fetch(`/ppl2025/data/${b}.json`,{cache:"no-store"});if(!ue.ok)throw new Error(`HTTP ${ue.status}`);t(5,o=await ue.json())}catch{if(b!==Ae[0].id){t(0,b=Ae[0].id);try{const X=await fetch(`/ppl2025/data/${b}.json`,{cache:"no-store"});if(!X.ok)throw new Error(`HTTP ${X.status}`);t(5,o=await X.json()),t(9,m="Није нађен сет за претходни предмет. Учитан је подразумевани предмет.")}catch{t(9,m="Није нађен ниједан сет питања."),t(5,o={subject:ne(b),lang:"sr",version:1,questions:[]})}}else t(9,m="Није нађен сет питања за изабрани предмет."),t(5,o={subject:ne(b),lang:"sr",version:1,questions:[]})}const je=Number(localStorage.getItem(Vt+b)||"0");t(6,h=Number.isFinite(je)&&je>=0&&je<o.questions.length?je:0),J()}}function be(v){v&&(t(12,E=qt(v)),t(11,S=!0))}function we(){t(11,S=!1),t(12,E="")}function J(){if(t(8,f=!1),!o)return;const v=o.questions[h];t(7,d=el(v.options||[])),t(10,w=null),t(1,N=""),t(18,z=""),t(19,H=null),k!==null&&(clearTimeout(k),k=null),I||localStorage.setItem(Vt+b,String(h)),localStorage.setItem(Xn,b);const D=new URL(location.href);D.hash=`#/quiz?s=${b}`,history.replaceState(null,"",D)}function Te(){o&&(I&&P.length>0?(t(21,R=Math.min(R+1,P.length-1)),t(6,h=P[R])):t(6,h=(h+1)%o.questions.length),J())}function qe(){o&&(I&&P.length>0?(t(21,R=Math.max(R-1,0)),t(6,h=P[R])):t(6,h=(h-1+o.questions.length)%o.questions.length),J())}function Le(){if(o&&!(I&&P.length>0)){if(b===Re){t(6,h=Math.floor(Math.random()*o.questions.length)),J();return}t(6,h=Math.floor(Math.random()*o.questions.length)),J()}}function Ie(v,D){const F=(o==null?void 0:o.subject)??"PPL",ke=v.options.find(Oe=>Oe.isCorrect),Se=v.options.map((Oe,Je)=>`${String.fromCharCode(65+Je)}. ${Oe.text}${Oe.isCorrect?" (тачан)":""}`).join(`
`),ce={sr:{intro:`Објасни детаљно на српском језику зашто је тачан одговор правилан за предмет ${F} (PPL теорија ваздухопловства).`,sections:{correct:"ОБРАЗЛОЖЕЊЕ ТАЧНОГ ОДГОВОРА:",examples:"ПРАКТИЧНИ ПРИМЕРИ:",context:"ДОДАТНИ КОНТЕКСТ:"},instructions:"Напиши објашњење у Markdown формату (користи **за жирни текст**, *за курзив*, ## за заглавља, - за спискове). Објашњење треба да буде разумљиво, корисно и образложено на практичним примерима."},ru:{intro:`Подробно объясни на русском языке, почему правильный ответ верен для предмета ${F} (теория PPL авиации).`,sections:{correct:"ОБОСНОВАНИЕ ПРАВИЛЬНОГО ОТВЕТА:",examples:"ПРАКТИЧЕСКИЕ ПРИМЕРЫ:",context:"ДОПОЛНИТЕЛЬНЫЙ КОНТЕКСТ:"},instructions:"Напиши объяснение в формате Markdown (используй **для жирного текста**, *для курсива*, ## для заголовков, - для списков). Объяснение должно быть понятным, полезным и обоснованным практическими примерами."},en:{intro:`Explain in detail in English why the correct answer is right for the subject ${F} (PPL aviation theory).`,sections:{correct:"EXPLANATION OF CORRECT ANSWER:",examples:"PRACTICAL EXAMPLES:",context:"ADDITIONAL CONTEXT:"},instructions:"Write the explanation in Markdown format (use ** for bold text, * for italic, ## for headings, - for lists). The explanation should be clear, useful, and supported by practical examples."}}[q],X={sr:{question:"Питање:",options:"Понудени одговори:",correct:"Тачан одговор:",intro:"Направи детаљно и разумљиво објашњење које укључује:",correctList:["Детаљно објасни зашто је тачан одговор правилан","Наведи конкретне факте, правила или принципе из теорије ваздухопловства","Објасни како се тачан одговор примењује у стварним ситуацијама"],examples:["Наведи конкретан пример из праве летења или ситуацију која илуструје правилно разумевање","Објасни предности и важност правилног разумевања"],context:["Ако је релевантно, објасни повезаност са другим концептима из ваздухопловства","Наведи корисне напомене за запамћивање"]},ru:{question:"Вопрос:",options:"Предложенные ответы:",correct:"Правильный ответ:",intro:"Сделай детальное и понятное объяснение, которое включает:",correctList:["Подробно объясни, почему правильный ответ верен","Приведи конкретные факты, правила или принципы из теории авиации","Объясни, как правильный ответ применяется в реальных ситуациях"],examples:["Приведи конкретный пример из реального полёта или ситуацию, которая иллюстрирует правильное понимание","Объясни преимущества и важность правильного понимания"],context:["Если релевантно, объясни связь с другими концепциями из авиации","Приведи полезные заметки для запоминания"]},en:{question:"Question:",options:"Provided options:",correct:"Correct answer:",intro:"Make a detailed and clear explanation that includes:",correctList:["Explain in detail why the correct answer is right","Provide specific facts, rules or principles from aviation theory","Explain how the correct answer applies in real situations"],examples:["Give a specific example from real flight or a situation that illustrates correct understanding","Explain the advantages and importance of correct understanding"],context:["If relevant, explain the connection with other aviation concepts","Provide useful notes for memorization"]}}[q];return`${ce.intro}

${X.question} ${v.question}

${X.options}
${Se}

${X.correct} ${(ke==null?void 0:ke.text)||(q==="sr"?"Непознат":q==="ru"?"Неизвестен":"Unknown")}

${X.intro}

1. ${ce.sections.correct}
   - ${X.correctList[0]}
   - ${X.correctList[1]}
   - ${X.correctList[2]}

2. ${ce.sections.examples}
   - ${X.examples[0]}
   - ${X.examples[1]}

3. ${ce.sections.context}
   - ${X.context[0]}
   - ${X.context[1]}

${ce.instructions}`}async function K(v,D){var F,ke,Se,je,ce;if(!A){t(18,z="API кључ није подешен. Молимо унесите OpenAI API кључ у подешавањима.");return}t(17,$=!0),t(18,z=""),t(1,N=""),t(19,H=v.id);try{const ue=Ie(v,D),X=!!v.image,Oe=[{type:"text",text:ue}];if(X&&v.image)try{const $e=qt(v.image),ot=await cr($e),at=$e.toLowerCase().endsWith(".png")?"image/png":"image/jpeg";Oe.push({type:"image_url",image_url:{url:`data:${at};base64,${ot}`}})}catch($e){console.warn("Failed to load image for explanation:",$e)}const Je=Oe.length>1,De=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:ar(q)},{role:"user",content:Oe}],max_tokens:Je?800:600,temperature:0,stream:!0})});if(!De.ok){let $e=`HTTP ${De.status}`;try{const ot=await De.text();$e=((F=JSON.parse(ot).error)==null?void 0:F.message)||$e}catch{}throw new Error($e)}const Kt=(ke=De.body)==null?void 0:ke.getReader(),zl=new TextDecoder;if(!Kt)throw new Error("Failed to get response stream");t(1,N="");let Ut="";try{for(;;){const{done:$e,value:ot}=await Kt.read();if($e)break;Ut+=zl.decode(ot,{stream:!0});const at=Ut.split(`
`);Ut=at.pop()||"";for(const Qt of at)if(Qt.trim()!==""&&Qt.startsWith("data: ")){const yt=Qt.slice(6);if(yt==="[DONE]")continue;try{const kn=(ce=(je=(Se=JSON.parse(yt).choices)==null?void 0:Se[0])==null?void 0:je.delta)==null?void 0:ce.content;kn&&t(1,N=N+kn)}catch{yt.trim()!==""&&console.warn("Failed to parse SSE data:",yt)}}}}finally{Kt.releaseLock()}}catch(ue){t(18,z=ue instanceof Error?ue.message:"Грешка приликом генерисања објашњења.")}finally{t(17,$=!1)}}function V(){Vn(A),localStorage.setItem(Xt,String(C)),localStorage.setItem(Jn,q),t(16,T=!1)}function Ce(){t(13,A=""),Vn(""),t(16,T=!1)}function _t(){t(14,C=!C),localStorage.setItem(Xt,String(C))}function Ye(v){b!==v&&(t(0,b=v),t(6,h=0),v!==Re&&localStorage.setItem(Vt+b,"0"),t(8,f=!1),ee(),ge(b))}function ve(v){const F=v.target.value;Ye(F)}function le(v){const D=v.target,F=Number(D.value);Number.isFinite(F)&&(t(6,h=Math.min(Math.max(F,0),((o==null?void 0:o.questions.length)??1)-1)),J())}function it(v){var ke;t(10,w=v);const D=!!((ke=d[v])!=null&&ke.isCorrect),F=d[v];if(I&&!B&&P.length>0)(U[R]===null||U[R]===void 0)&&t(43,U[R]=D,U);else if(D)if(k!==null&&clearTimeout(k),k=null,b===Re){const Se=o.questions[h],je=rn();for(const[ce,ue]of je.entries())ue.has(Se.id)&&Ls(ce,Se.id);ge(Re)}else Te();else!I&&o&&F&&C&&K(o.questions[h],F.text);if(!D&&b!==Re&&!I){const Se=o.questions[h].id;En(b,Se)}}function Fe(){const v=d.findIndex(D=>D.isCorrect);v!==-1&&(t(10,w=v),k!==null&&(clearTimeout(k),k=null))}Et(()=>ge());function me(){if(!o)return;const v=Math.min(20,o.questions.length),D=el(Array.from({length:o.questions.length},(F,ke)=>ke)).slice(0,v);t(2,P=D),t(43,U=Array.from({length:v},()=>null)),t(21,R=0),t(22,B=!1),t(20,I=!0),t(6,h=P[0]),J()}function ee(){t(20,I=!1),t(22,B=!1),t(2,P=[]),t(43,U=[]),t(21,R=0)}function Be(v){v.target.checked?me():ee()}function te(){if(!I)return;t(22,B=!0);const v=U.map((D,F)=>D===!1?P[F]:null).filter(D=>D!==null);if(b!==Re)for(const D of v){const F=o.questions[D].id;En(b,F)}}function se(){me()}function re(v){xn.call(this,n,v)}function ie(v){xn.call(this,n,v)}function oe(){b=Yt(this),t(0,b)}const ae=()=>t(16,T=!0),xt=()=>t(16,T=!0);function We(){h=Yt(this),t(6,h)}const ye=v=>{it(v),t(8,f=!0)},wt=()=>t(16,T=!0),x=v=>be(v),Q=v=>v.key==="Escape"&&we(),Me=()=>t(16,T=!1);function he(){A=this.value,t(13,A)}const vt=v=>v.key==="Enter"&&V();function El(){q=Yt(this),t(15,q)}const Pl=()=>t(16,T=!1),Il=()=>t(16,T=!1),$l=v=>v.key==="Escape"&&t(16,T=!1);return n.$$.update=()=>{n.$$.dirty[0]&2&&t(26,l=N?G.parse(N):""),n.$$.dirty[0]&4&&t(3,s=P.length),n.$$.dirty[1]&4096&&t(4,r=U.filter(v=>v===!0).length),n.$$.dirty[0]&24&&t(25,a=s>0?Math.round(r/s*100):0),n.$$.dirty[0]&24&&t(24,i=r>=Math.ceil(.75*s)),n.$$.dirty[0]&1&&t(23,c=b===Re)},[b,N,P,s,r,o,h,d,f,m,w,S,E,A,C,q,T,$,z,H,I,R,B,c,i,a,l,be,we,Te,qe,Le,V,Ce,_t,ve,le,it,Fe,ee,Be,te,se,U,re,ie,oe,ae,xt,We,ye,wt,x,Q,Me,he,vt,El,Pl,Il,$l]}class fr extends Nt{constructor(e){super(),Ot(this,e,ur,sr,st,{},null,[-1,-1,-1])}}function tl(n,e,t){const l=n.slice();return l[13]=e[t][0],l[14]=e[t][1],l}function nl(n,e,t){const l=n.slice();return l[17]=e[t],l}function ll(n){let e,t,l;return{c(){e=g("button"),e.textContent="Izbriši sve moje greške",p(e,"class","clear-errors-btn svelte-13fcj3x"),p(e,"title","Obrisi sve greske")},m(s,r){j(s,e,r),t||(l=L(e,"click",n[5]),t=!0)},p:Y,d(s){s&&y(e),t=!1,l()}}}function sl(n){let e;return{c(){e=g("span"),e.textContent="✓",p(e,"class","badge badge-passed svelte-13fcj3x"),p(e,"aria-label","Passed"),p(e,"title","Predmet polozen")},m(t,l){j(t,e,l)},d(t){t&&y(e)}}}function rl(n){let e,t,l,s,r,a,i,c,o,h,d,f,b,m,w,k,S=n[0].has(n[17].id),E,A,C,q,T,$;function N(...I){return n[8](n[17],...I)}let z=S&&sl();function H(){return n[9](n[17])}return{c(){e=g("div"),t=g("div"),l=g("label"),s=g("span"),s.textContent="Polozen",r=_(),a=g("div"),i=g("input"),o=_(),h=g("span"),d=_(),f=g("button"),b=g("div"),m=g("div"),m.textContent=`${n[17].title}`,w=_(),k=g("div"),z&&z.c(),E=_(),A=g("div"),A.textContent=`${n[17].id}`,q=_(),p(s,"class","toggle-text svelte-13fcj3x"),p(i,"type","checkbox"),i.checked=c=n[0].has(n[17].id),p(i,"class","svelte-13fcj3x"),p(h,"class","toggle-slider svelte-13fcj3x"),p(a,"class","toggle-switch svelte-13fcj3x"),p(l,"class","toggle-label svelte-13fcj3x"),p(t,"class","toggle-container svelte-13fcj3x"),p(m,"class","title svelte-13fcj3x"),p(k,"class","badges-row svelte-13fcj3x"),p(b,"class","titleRow svelte-13fcj3x"),p(A,"class","id svelte-13fcj3x"),p(f,"class",C="tile tile-subject "+(n[0].has(n[17].id)?"passed":"")+" svelte-13fcj3x"),p(e,"class","tile-wrapper svelte-13fcj3x")},m(I,P){j(I,e,P),u(e,t),u(t,l),u(l,s),u(l,r),u(l,a),u(a,i),u(a,o),u(a,h),u(e,d),u(e,f),u(f,b),u(b,m),u(b,w),u(b,k),z&&z.m(k,null),u(f,E),u(f,A),u(e,q),T||($=[L(i,"change",N),L(f,"click",H)],T=!0)},p(I,P){n=I,P&1&&c!==(c=n[0].has(n[17].id))&&(i.checked=c),P&1&&(S=n[0].has(n[17].id)),S?z||(z=sl(),z.c(),z.m(k,null)):z&&(z.d(1),z=null),P&1&&C!==(C="tile tile-subject "+(n[0].has(n[17].id)?"passed":"")+" svelte-13fcj3x")&&p(f,"class",C)},d(I){I&&y(e),z&&z.d(),T=!1,_e($)}}}function il(n){let e,t,l,s,r,a,i,c,o,h,d,f=n[3]&&ol(n),b=n[2].size>0&&al(n);return{c(){e=g("div"),t=g("h2"),t.textContent="Statistika gresaka",l=_(),s=g("div"),r=g("div"),a=g("div"),a.textContent="Ukupno gresaka",i=_(),c=g("div"),o=M(n[1]),h=_(),f&&f.c(),d=_(),b&&b.c(),p(t,"class","svelte-13fcj3x"),p(a,"class","stat-label svelte-13fcj3x"),p(c,"class","stat-value svelte-13fcj3x"),p(r,"class","stat-card svelte-13fcj3x"),p(s,"class","stats-grid svelte-13fcj3x"),p(e,"class","stats-section svelte-13fcj3x")},m(m,w){j(m,e,w),u(e,t),u(e,l),u(e,s),u(s,r),u(r,a),u(r,i),u(r,c),u(c,o),u(s,h),f&&f.m(s,null),u(s,d),b&&b.m(s,null)},p(m,w){w&2&&W(o,m[1]),m[3]?f?f.p(m,w):(f=ol(m),f.c(),f.m(s,d)):f&&(f.d(1),f=null),m[2].size>0?b?b.p(m,w):(b=al(m),b.c(),b.m(s,null)):b&&(b.d(1),b=null)},d(m){m&&y(e),f&&f.d(),b&&b.d()}}}function ol(n){let e,t,l,s,r=n[3].count+"",a,i,c,o=n[3].title+"",h;return{c(){e=g("div"),t=g("div"),t.textContent="Najvise gresaka",l=_(),s=g("div"),a=M(r),i=_(),c=g("div"),h=M(o),p(t,"class","stat-label svelte-13fcj3x"),p(s,"class","stat-value svelte-13fcj3x"),p(c,"class","stat-subtitle svelte-13fcj3x"),p(e,"class","stat-card svelte-13fcj3x")},m(d,f){j(d,e,f),u(e,t),u(e,l),u(e,s),u(s,a),u(e,i),u(e,c),u(c,h)},p(d,f){f&8&&r!==(r=d[3].count+"")&&W(a,r),f&8&&o!==(o=d[3].title+"")&&W(h,o)},d(d){d&&y(e)}}}function al(n){let e,t,l,s,r=Ne(Array.from(n[2].entries()).sort(fl)),a=[];for(let i=0;i<r.length;i+=1)a[i]=cl(tl(n,r,i));return{c(){e=g("div"),t=g("div"),t.textContent="Po predmetima",l=_(),s=g("div");for(let i=0;i<a.length;i+=1)a[i].c();p(t,"class","stat-label svelte-13fcj3x"),p(s,"class","errors-list svelte-13fcj3x"),p(e,"class","stat-card stat-card-full svelte-13fcj3x")},m(i,c){j(i,e,c),u(e,t),u(e,l),u(e,s);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(s,null)},p(i,c){if(c&68){r=Ne(Array.from(i[2].entries()).sort(fl));let o;for(o=0;o<r.length;o+=1){const h=tl(i,r,o);a[o]?a[o].p(h,c):(a[o]=cl(h),a[o].c(),a[o].m(s,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=r.length}},d(i){i&&y(e),bt(a,i)}}}function cl(n){let e,t,l=n[6](n[13])+"",s,r,a,i=n[14]+"",c,o;return{c(){e=g("div"),t=g("span"),s=M(l),r=_(),a=g("span"),c=M(i),o=_(),p(t,"class","error-subject svelte-13fcj3x"),p(a,"class","error-count svelte-13fcj3x"),p(e,"class","error-item svelte-13fcj3x")},m(h,d){j(h,e,d),u(e,t),u(t,s),u(e,r),u(e,a),u(a,c),u(e,o)},p(h,d){d&4&&l!==(l=h[6](h[13])+"")&&W(s,l),d&4&&i!==(i=h[14]+"")&&W(c,i)},d(h){h&&y(e)}}}function pr(n){let e,t,l,s,r,a,i,c,o,h,d,f,b,m,w,k,S,E,A,C,q,T,$,N;r=new Zt({});let z=n[1]>0&&ll(n),H=Ne(Ae),I=[];for(let R=0;R<H.length;R+=1)I[R]=rl(nl(n,H,R));let P=n[1]>0&&il(n);return{c(){e=g("div"),t=g("header"),l=g("h1"),l.textContent="Izaberi predmet",s=_(),rt(r.$$.fragment),a=_(),i=g("main"),c=g("div"),o=g("div"),h=g("button"),d=g("div"),f=g("div"),f.textContent="MOJE GREŠKE",b=_(),m=g("span"),w=M(n[1]),k=_(),S=g("div"),S.textContent="Poseban režim gde se pojavljuju pitanja na kojima ste pogrešili. Kad tacno odgovorite ovde, pitanje se briše sa liste grešaka.",E=_(),z&&z.c(),A=_(),C=g("div");for(let R=0;R<I.length;R+=1)I[R].c();q=_(),P&&P.c(),p(l,"class","svelte-13fcj3x"),p(t,"class","svelte-13fcj3x"),p(f,"class","title svelte-13fcj3x"),p(m,"class","badge badge-error svelte-13fcj3x"),p(m,"aria-label","Greške"),p(m,"title","Pitanja na kojima ste pogrešili"),p(d,"class","titleRow svelte-13fcj3x"),p(S,"class","id svelte-13fcj3x"),p(h,"class","tile tile-errors svelte-13fcj3x"),p(o,"class","errors-container svelte-13fcj3x"),p(C,"class","subjects-grid svelte-13fcj3x"),p(c,"class","grid svelte-13fcj3x"),p(i,"class","svelte-13fcj3x"),p(e,"class","page svelte-13fcj3x")},m(R,U){j(R,e,U),u(e,t),u(t,l),u(t,s),Ke(r,t,null),u(e,a),u(e,i),u(i,c),u(c,o),u(o,h),u(h,d),u(d,f),u(d,b),u(d,m),u(m,w),u(h,k),u(h,S),u(o,E),z&&z.m(o,null),u(c,A),u(c,C);for(let B=0;B<I.length;B+=1)I[B]&&I[B].m(C,null);u(c,q),P&&P.m(c,null),T=!0,$||(N=L(h,"click",n[7]),$=!0)},p(R,[U]){if((!T||U&2)&&W(w,R[1]),R[1]>0?z?z.p(R,U):(z=ll(R),z.c(),z.m(o,null)):z&&(z.d(1),z=null),U&17){H=Ne(Ae);let B;for(B=0;B<H.length;B+=1){const xe=nl(R,H,B);I[B]?I[B].p(xe,U):(I[B]=rl(xe),I[B].c(),I[B].m(C,null))}for(;B<I.length;B+=1)I[B].d(1);I.length=H.length}R[1]>0?P?P.p(R,U):(P=il(R),P.c(),P.m(c,null)):P&&(P.d(1),P=null)},i(R){T||(pe(r.$$.fragment,R),T=!0)},o(R){de(r.$$.fragment,R),T=!1},d(R){R&&y(e),Ue(r),z&&z.d(),bt(I,R),P&&P.d(),$=!1,N()}}}const Rl="ppl.passed.v1";function hr(){try{const n=localStorage.getItem(Rl);if(!n)return new Set;const e=JSON.parse(n);return Array.isArray(e)?new Set(e.filter(t=>typeof t=="string")):new Set}catch{return new Set}}function dr(n){try{localStorage.setItem(Rl,JSON.stringify(Array.from(n)))}catch{}}function ul(n){const e=new URL(location.href);e.hash=`#/quiz?s=${encodeURIComponent(n)}`,location.href=e.toString()}const fl=(n,e)=>e[1]-n[1];function gr(n,e,t){let l=hr();function s(k,S){S.stopPropagation(),l.has(k)?l.delete(k):l.add(k),t(0,l),dr(l)}let r={};async function a(){const k="";await Promise.all(Ae.map(async S=>{try{const E=await fetch(`/ppl2025/data/${S.id}.json${k}`,{cache:"no-store"});if(!E.ok)throw new Error(`HTTP ${E.status}`);const A=await E.json();r={...r,[S.id]:!!A.verified}}catch{r={...r,[S.id]:!1}}}))}Et(a);let i=0,c=new Map,o=null;function h(){t(1,i=Os());const k=rn();t(2,c=new Map);for(const[A,C]of k.entries())c.set(A,C.size);let S=0,E=null;for(const[A,C]of c.entries())C>S&&(S=C,E=A);if(E&&S>0){const A=Ae.find(C=>C.id===E);A&&t(3,o={title:A.title,count:S})}else t(3,o=null)}function d(){confirm("Da li ste sigurni da zelite da obrisete sve greske?")&&(Ms(),h())}Et(()=>{h();const k=setInterval(h,1e3);return()=>clearInterval(k)});function f(k){const S=Ae.find(E=>E.id===k);return S?S.title:k}return[l,i,c,o,s,d,f,()=>ul("__errors__"),(k,S)=>s(k.id,S),k=>ul(k.id)]}class br extends Nt{constructor(e){super(),Ot(this,e,gr,pr,st,{})}}function mr(n){let e,t;return e=new br({}),{c(){rt(e.$$.fragment)},m(l,s){Ke(e,l,s),t=!0},i(l){t||(pe(e.$$.fragment,l),t=!0)},o(l){de(e.$$.fragment,l),t=!1},d(l){Ue(e,l)}}}function kr(n){let e,t;return e=new fr({}),{c(){rt(e.$$.fragment)},m(l,s){Ke(e,l,s),t=!0},i(l){t||(pe(e.$$.fragment,l),t=!0)},o(l){de(e.$$.fragment,l),t=!1},d(l){Ue(e,l)}}}function _r(n){let e,t,l,s,r;const a=[kr,mr],i=[];function c(o,h){return h&1&&(e=null),e==null&&(e=!!o[0].startsWith("#/quiz")),e?0:1}return t=c(n,-1),l=i[t]=a[t](n),{c(){l.c(),s=mt()},m(o,h){i[t].m(o,h),j(o,s,h),r=!0},p(o,[h]){let d=t;t=c(o,h),t!==d&&(Lt(),de(i[d],1,1,()=>{i[d]=null}),Mt(),l=i[t],l||(l=i[t]=a[t](o),l.c()),pe(l,1),l.m(s.parentNode,s))},i(o){r||(pe(l),r=!0)},o(o){de(l),r=!1},d(o){o&&y(s),i[t].d(o)}}}function xr(n,e,t){let l="#/";function s(){t(0,l=location.hash||"#/")}return Et(()=>{s(),window.addEventListener("hashchange",s)}),[l]}class wr extends Nt{constructor(e){super(),Ot(this,e,xr,_r,st,{})}}Is();new wr({target:document.getElementById("app")});
