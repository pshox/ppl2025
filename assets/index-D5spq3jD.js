var Rt=Object.defineProperty;var At=(l,e,t)=>e in l?Rt(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var Je=(l,e,t)=>At(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function D(){}function Tt(l){return l()}function nt(){return Object.create(null)}function ee(l){l.forEach(Tt)}function Mt(l){return typeof l=="function"}function ve(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let Oe;function st(l,e){return l===e?!0:(Oe||(Oe=document.createElement("a")),Oe.href=e,l===Oe.href)}function Bt(l){return Object.keys(l).length===0}function c(l,e){l.appendChild(e)}function P(l,e,t){l.insertBefore(e,t||null)}function E(l){l.parentNode&&l.parentNode.removeChild(l)}function Ue(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function h(l){return document.createElement(l)}function z(l){return document.createTextNode(l)}function C(){return z(" ")}function et(){return z("")}function G(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function a(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Ut(l){return Array.from(l.childNodes)}function H(l,e){e=""+e,l.data!==e&&(l.data=e)}function zt(l,e){l.value=e??""}function Ae(l,e,t){for(let n=0;n<l.options.length;n+=1){const s=l.options[n];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(l.selectedIndex=-1)}function ot(l){const e=l.querySelector(":checked");return e&&e.__value}let Ee;function Se(l){Ee=l}function Gt(){if(!Ee)throw new Error("Function called outside component initialization");return Ee}function Be(l){Gt().$$.on_mount.push(l)}const be=[],it=[];let ge=[];const rt=[],Kt=Promise.resolve();let Ze=!1;function Vt(){Ze||(Ze=!0,Kt.then(Nt))}function Pe(l){ge.push(l)}const Ye=new Set;let _e=0;function Nt(){if(_e!==0)return;const l=Ee;do{try{for(;_e<be.length;){const e=be[_e];_e++,Se(e),Dt(e.$$)}}catch(e){throw be.length=0,_e=0,e}for(Se(null),be.length=0,_e=0;it.length;)it.pop()();for(let e=0;e<ge.length;e+=1){const t=ge[e];Ye.has(t)||(Ye.add(t),t())}ge.length=0}while(be.length);for(;rt.length;)rt.pop()();Ze=!1,Ye.clear(),Se(l)}function Dt(l){if(l.fragment!==null){l.update(),ee(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Pe)}}function Ft(l){const e=[],t=[];ge.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),ge=e}const Re=new Set;let ce;function Ge(){ce={r:0,c:[],p:ce}}function Ke(){ce.r||ee(ce.c),ce=ce.p}function Y(l,e){l&&l.i&&(Re.delete(l),l.i(e))}function Q(l,e,t,n){if(l&&l.o){if(Re.has(l))return;Re.add(l),ce.c.push(()=>{Re.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function ue(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function ke(l){l&&l.c()}function fe(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),Pe(()=>{const o=l.$$.on_mount.map(Tt).filter(Mt);l.$$.on_destroy?l.$$.on_destroy.push(...o):ee(o),l.$$.on_mount=[]}),s.forEach(Pe)}function ae(l,e){const t=l.$$;t.fragment!==null&&(Ft(t.after_update),ee(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ht(l,e){l.$$.dirty[0]===-1&&(be.push(l),Vt(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function Ve(l,e,t,n,s,o,u=null,f=[-1]){const i=Ee;Se(l);const r=l.$$={fragment:null,ctx:[],props:o,update:D,not_equal:s,bound:nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:nt(),dirty:f,skip_bound:!1,root:e.target||i.$$.root};u&&u(r.root);let d=!1;if(r.ctx=t?t(l,e.props||{},(m,_,...g)=>{const v=g.length?g[0]:_;return r.ctx&&s(r.ctx[m],r.ctx[m]=v)&&(!r.skip_bound&&r.bound[m]&&r.bound[m](v),d&&Ht(l,m)),_}):[],r.update(),d=!0,ee(r.before_update),r.fragment=n?n(r.ctx):!1,e.target){if(e.hydrate){const m=Ut(e.target);r.fragment&&r.fragment.l(m),m.forEach(E)}else r.fragment&&r.fragment.c();e.intro&&Y(l.$$.fragment),fe(l,e.target,e.anchor),Nt()}Se(i)}class De{constructor(){Je(this,"$$");Je(this,"$$set")}$destroy(){ae(this,1),this.$destroy=D}$on(e,t){if(!Mt(t))return D;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Bt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Jt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Jt);const ne=[{id:"01-vazduhoplovni-propisi",title:"Vazduhoplovni propisi"},{id:"02-opste-poznavanje-vazduhoplova",title:"Opšte poznavanje vazduhoplova"},{id:"03-performanse",title:"Performanse i planiranje"},{id:"04-ljudske-mogucnosti",title:"Ljudske mogućnosti"},{id:"05-meteorologija",title:"Meteorologija"},{id:"06-navigacija",title:"Navigacija"},{id:"07-operativne-procedure",title:"Operativne procedure"},{id:"08-teorija-letenja",title:"Teorija letenja"},{id:"09-komunikacije",title:"Komunikacije"}],pe=[];function Yt(l,e=D){let t;const n=new Set;function s(f){if(ve(l,f)&&(l=f,t)){const i=!pe.length;for(const r of n)r[1](),pe.push(r,l);if(i){for(let r=0;r<pe.length;r+=2)pe[r][0](pe[r+1]);pe.length=0}}}function o(f){s(f(l))}function u(f,i=D){const r=[f,i];return n.add(r),n.size===1&&(t=e(s,o)||D),f(l),()=>{n.delete(r),n.size===0&&t&&(t(),t=null)}}return{set:s,update:o,subscribe:u}}const ct="ppl.theme.mode";function Qt(){return typeof window>"u"?"light":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function xe(l){if(typeof document>"u")return;const e=document.documentElement;e.classList.remove("theme-light","theme-dark");const t=l==="system"?Qt():l;e.classList.add(t==="dark"?"theme-dark":"theme-light");const n=document.querySelector('meta[name="theme-color"]');try{const s=getComputedStyle(e).getPropertyValue("--bg").trim();n&&s&&(n.content=s)}catch{}}const $e=Yt("system");let Le=null;function Wt(){let l;$e.subscribe(t=>l=t)(),l==="system"&&xe("system")}function Xt(){var e;if(typeof window>"u")return;const l=localStorage.getItem(ct)||"system";$e.set(l),xe(l),$e.subscribe(t=>{try{localStorage.setItem(ct,t)}catch{}xe(t)}),window.matchMedia&&(Le=window.matchMedia("(prefers-color-scheme: dark)"),(e=Le.addEventListener)==null||e.call(Le,"change",Wt))}function Qe(l){$e.set(l)}function Zt(l){let e,t,n,s,o,u,f,i,r,d,m,_,g,v;return{c(){e=h("div"),t=h("button"),n=z("☀️"),o=C(),u=h("button"),f=z("🌙"),r=C(),d=h("button"),m=z("⚙️"),a(t,"class","btn svelte-80rqza"),a(t,"aria-label","Light"),a(t,"data-active",s=l[0]==="light"),a(u,"class","btn svelte-80rqza"),a(u,"aria-label","Dark"),a(u,"data-active",i=l[0]==="dark"),a(d,"class","btn svelte-80rqza"),a(d,"aria-label","System"),a(d,"data-active",_=l[0]==="system"),a(e,"class","themeToggle svelte-80rqza")},m(S,p){P(S,e,p),c(e,t),c(t,n),c(e,o),c(e,u),c(u,f),c(e,r),c(e,d),c(d,m),g||(v=[G(t,"click",l[1]),G(u,"click",l[2]),G(d,"click",l[3])],g=!0)},p(S,[p]){p&1&&s!==(s=S[0]==="light")&&a(t,"data-active",s),p&1&&i!==(i=S[0]==="dark")&&a(u,"data-active",i),p&1&&_!==(_=S[0]==="system")&&a(d,"data-active",_)},i:D,o:D,d(S){S&&E(e),g=!1,ee(v)}}}function xt(l,e,t){let n;const s=()=>Qe("light"),o=()=>Qe("dark"),u=()=>Qe("system");return $e.subscribe(f=>t(0,n=f)),[n,s,o,u]}class Fe extends De{constructor(e){super(),Ve(this,e,xt,Zt,ve,{})}}const x="__errors__",Ot="ppl.errors.v1";function el(){try{const l=localStorage.getItem(Ot);if(!l)return[];const e=JSON.parse(l);return Array.isArray(e)?e.filter(t=>t&&typeof t=="object"&&"subjectId"in t&&"questionId"in t):[]}catch{return[]}}function tt(l){try{localStorage.setItem(Ot,JSON.stringify(l))}catch{}}function He(){const l=el(),e=new Set,t=[];for(const n of l){const s=`${n.subjectId}::${n.questionId}`;e.has(s)||(e.add(s),t.push(n))}return t.length!==l.length&&tt(t),t}function ut(l,e){const t=He(),n=`${l}::${e}`;t.some(o=>`${o.subjectId}::${o.questionId}`===n)||(t.push({subjectId:l,questionId:e}),tt(t))}function tl(l,e){const n=He().filter(s=>!(s.subjectId===l&&s.questionId===e));tt(n)}function ll(){return He().length}function ft(){const l=new Map;for(const{subjectId:e,questionId:t}of He())l.has(e)||l.set(e,new Set),l.get(e).add(t);return l}function We(l){const e=l.slice(),t=e[4].questions[e[5]].image;return e[44]=t,e}function at(l,e,t){const n=l.slice();return n[45]=e[t],n[47]=t,n}function dt(l,e,t){const n=l.slice();return n[48]=e[t],n[47]=t,n}function nl(l,e,t){const n=l.slice();return n[41]=e[t],n}function sl(l){let e=l[5],t,n,s=wt(l);return{c(){s.c(),t=et()},m(o,u){s.m(o,u),P(o,t,u),n=!0},p(o,u){u[0]&32&&ve(e,e=o[5])?(Ge(),Q(s,1,1,D),Ke(),s=wt(o),s.c(),Y(s,1),s.m(t.parentNode,t)):s.p(o,u)},i(o){n||(Y(s),n=!0)},o(o){Q(s),n=!1},d(o){o&&E(t),s.d(o)}}}function ol(l){let e,t,n,s=l[4].subject+"",o,u,f,i,r,d,m,_,g,v;const S=[hl,ml],p=[];function T(y,N){return y[13]?0:1}i=T(l),r=p[i]=S[i](l);let j=l[8]&&qt(l);return{c(){e=h("div"),t=h("header"),n=h("h1"),o=z(s),u=C(),f=h("div"),r.c(),d=C(),m=h("main"),j&&j.c(),_=C(),g=h("p"),g.textContent="Nema pitanja u setu.",a(n,"class","svelte-1b6l6dl"),a(f,"class","toolbar svelte-1b6l6dl"),a(t,"class","svelte-1b6l6dl"),a(m,"class","svelte-1b6l6dl"),a(e,"class","page svelte-1b6l6dl")},m(y,N){P(y,e,N),c(e,t),c(t,n),c(n,o),c(t,u),c(t,f),p[i].m(f,null),c(e,d),c(e,m),j&&j.m(m,null),c(m,_),c(m,g),v=!0},p(y,N){(!v||N[0]&16)&&s!==(s=y[4].subject+"")&&H(o,s);let M=i;i=T(y),i===M?p[i].p(y,N):(Ge(),Q(p[M],1,1,()=>{p[M]=null}),Ke(),r=p[i],r?r.p(y,N):(r=p[i]=S[i](y),r.c()),Y(r,1),r.m(f,null)),y[8]?j?j.p(y,N):(j=qt(y),j.c(),j.m(m,_)):j&&(j.d(1),j=null)},i(y){v||(Y(r),v=!0)},o(y){Q(r),v=!1},d(y){y&&E(e),p[i].d(),j&&j.d()}}}function il(l){let e;return{c(){e=h("div"),e.innerHTML='<header class="svelte-1b6l6dl"><h1 class="svelte-1b6l6dl">Priprema PPL</h1></header> <main class="svelte-1b6l6dl"><p>Učitavanje…</p></main>',a(e,"class","page svelte-1b6l6dl")},m(t,n){P(t,e,n)},p:D,i:D,o:D,d(t){t&&E(e)}}}function rl(l){let e=l[5]+1+"",t,n,s=l[4].questions.length+"",o;return{c(){t=z(e),n=z("/"),o=z(s)},m(u,f){P(u,t,f),P(u,n,f),P(u,o,f)},p(u,f){f[0]&32&&e!==(e=u[5]+1+"")&&H(t,e),f[0]&16&&s!==(s=u[4].questions.length+"")&&H(o,s)},d(u){u&&(E(t),E(n),E(o))}}}function cl(l){let e=l[11]+1+"",t,n,s=l[1].length+"",o;return{c(){t=z(e),n=z("/"),o=z(s)},m(u,f){P(u,t,f),P(u,n,f),P(u,o,f)},p(u,f){f[0]&2048&&e!==(e=u[11]+1+"")&&H(t,e),f[0]&2&&s!==(s=u[1].length+"")&&H(o,s)},d(u){u&&(E(t),E(n),E(o))}}}function mt(l){let e,t,n,s,o,u;return{c(){e=h("label"),t=h("input"),n=C(),s=h("span"),s.textContent="Simuliraj ispit",a(t,"type","checkbox"),t.checked=l[10],a(s,"class","label-text svelte-1b6l6dl"),a(e,"class","exam-toggle svelte-1b6l6dl")},m(f,i){P(f,e,i),c(e,t),c(e,n),c(e,s),o||(u=G(t,"change",l[25]),o=!0)},p(f,i){i[0]&1024&&(t.checked=f[10])},d(f){f&&E(e),o=!1,u()}}}function ht(l){let e,t,n,s,o,u,f,i=l[4].questions.length+"",r,d,m,_=ue(l[4].questions),g=[];for(let v=0;v<_.length;v+=1)g[v]=_t(dt(l,_,v));return{c(){e=h("div"),t=h("label"),t.textContent="Питање",n=C(),s=h("select");for(let v=0;v<g.length;v+=1)g[v].c();o=C(),u=h("small"),f=z("од "),r=z(i),a(t,"for","qselect"),a(t,"class","svelte-1b6l6dl"),a(s,"id","qselect"),a(s,"class","svelte-1b6l6dl"),l[5]===void 0&&Pe(()=>l[30].call(s)),a(u,"class","svelte-1b6l6dl"),a(e,"class","qnav svelte-1b6l6dl")},m(v,S){P(v,e,S),c(e,t),c(e,n),c(e,s);for(let p=0;p<g.length;p+=1)g[p]&&g[p].m(s,null);Ae(s,l[5],!0),c(e,o),c(e,u),c(u,f),c(u,r),d||(m=[G(s,"change",l[20]),G(s,"change",l[30])],d=!0)},p(v,S){if(S[0]&16){_=ue(v[4].questions);let p;for(p=0;p<_.length;p+=1){const T=dt(v,_,p);g[p]?g[p].p(T,S):(g[p]=_t(T),g[p].c(),g[p].m(s,null))}for(;p<g.length;p+=1)g[p].d(1);g.length=_.length}S[0]&32&&Ae(s,v[5]),S[0]&16&&i!==(i=v[4].questions.length+"")&&H(r,i)},d(v){v&&E(e),Ue(g,v),d=!1,ee(m)}}}function _t(l){let e;return{c(){e=h("option"),e.textContent=`${l[47]+1}`,e.__value=l[47],zt(e,e.__value)},m(t,n){P(t,e,n)},p:D,d(t){t&&E(e)}}}function pt(l){let e,t=l[45].text+"",n,s,o,u,f;function i(){return l[31](l[47])}return{c(){e=h("button"),n=z(t),s=C(),a(e,"class",o="option "+(l[9]!==null&&l[45].isCorrect?"correct":"")+" "+(l[9]===l[47]&&!l[45].isCorrect?"wrong":"")+" svelte-1b6l6dl")},m(r,d){P(r,e,d),c(e,n),c(e,s),u||(f=G(e,"click",i),u=!0)},p(r,d){l=r,d[0]&64&&t!==(t=l[45].text+"")&&H(n,t),d[0]&576&&o!==(o="option "+(l[9]!==null&&l[45].isCorrect?"correct":"")+" "+(l[9]===l[47]&&!l[45].isCorrect?"wrong":"")+" svelte-1b6l6dl")&&a(e,"class",o)},d(r){r&&E(e),u=!1,f()}}}function bt(l){let e,t=l[4].questions[l[5]].comment+"",n;return{c(){e=h("div"),n=z(t),a(e,"class","comment svelte-1b6l6dl")},m(s,o){P(s,e,o),c(e,n)},p(s,o){o[0]&48&&t!==(t=s[4].questions[s[5]].comment+"")&&H(n,t)},d(s){s&&E(e)}}}function gt(l){let e,t,n;return{c(){e=h("div"),t=h("img"),st(t.src,n=St(l[44]))||a(t,"src",n),a(t,"alt",""),a(t,"class","svelte-1b6l6dl"),a(e,"class","question-image svelte-1b6l6dl")},m(s,o){P(s,e,o),c(e,t)},p(s,o){o[0]&48&&!st(t.src,n=St(s[44]))&&a(t,"src",n)},d(s){s&&E(e)}}}function vt(l){let e,t=l[2]>0&&kt(l);return{c(){e=h("div"),t&&t.c(),a(e,"class","exam-result svelte-1b6l6dl")},m(n,s){P(n,e,s),t&&t.m(e,null)},p(n,s){n[2]>0?t?t.p(n,s):(t=kt(n),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(n){n&&E(e),t&&t.d()}}}function kt(l){let e,t,n,s,o,u,f,i,r,d,m,_,g,v,S,p,T,j,y;function N(q,O){return q[14]?fl:ul}let M=N(l),I=M(l);return{c(){e=h("div"),t=h("h2"),t.textContent="Rezultat ispita",n=C(),s=h("p"),o=h("strong"),u=z(l[3]),f=z(" / "),i=z(l[2]),r=z(" ("),d=z(l[15]),m=z("%)"),_=C(),I.c(),g=C(),v=h("div"),S=h("button"),S.textContent="Ponovi ispit",p=C(),T=h("button"),T.textContent="Izađi iz ispita",a(t,"class","svelte-1b6l6dl"),a(v,"class","actions svelte-1b6l6dl"),a(e,"class","exam-summary svelte-1b6l6dl")},m(q,O){P(q,e,O),c(e,t),c(e,n),c(e,s),c(s,o),c(o,u),c(s,f),c(s,i),c(s,r),c(s,d),c(s,m),c(e,_),I.m(e,null),c(e,g),c(e,v),c(v,S),c(v,p),c(v,T),j||(y=[G(S,"click",l[27]),G(T,"click",l[24])],j=!0)},p(q,O){O[0]&8&&H(u,q[3]),O[0]&4&&H(i,q[2]),O[0]&32768&&H(d,q[15]),M!==(M=N(q))&&(I.d(1),I=M(q),I&&(I.c(),I.m(e,g)))},d(q){q&&E(e),I.d(),j=!1,ee(y)}}}function ul(l){let e;return{c(){e=h("p"),e.textContent="Niste položili ispit.",a(e,"class","fail svelte-1b6l6dl")},m(t,n){P(t,e,n)},d(t){t&&E(e)}}}function fl(l){let e;return{c(){e=h("p"),e.textContent="Položili ste ispit.",a(e,"class","pass svelte-1b6l6dl")},m(t,n){P(t,e,n)},d(t){t&&E(e)}}}function yt(l){let e,t,n,s,o,u;return{c(){e=h("div"),t=h("button"),t.textContent="Prikaži tačan odgovor",n=C(),s=h("button"),s.textContent="Pitaj AI",a(t,"class","btn btn-success-outline svelte-1b6l6dl"),a(s,"class","btn btn-info svelte-1b6l6dl"),a(e,"class","bottomActions svelte-1b6l6dl")},m(f,i){P(f,e,i),c(e,t),c(e,n),c(e,s),o||(u=[G(t,"click",l[22]),G(s,"click",l[23])],o=!0)},p:D,d(f){f&&E(e),o=!1,ee(u)}}}function al(l){let e,t,n;return{c(){e=h("button"),e.textContent="Završi ispit",a(e,"class","btn btn-warning svelte-1b6l6dl")},m(s,o){P(s,e,o),t||(n=G(e,"click",l[26]),t=!0)},p:D,d(s){s&&E(e),t=!1,n()}}}function dl(l){let e,t,n;return{c(){e=h("button"),e.textContent="Slučajno",a(e,"class","btn btn-secondary svelte-1b6l6dl")},m(s,o){P(s,e,o),t||(n=G(e,"click",l[18]),t=!0)},p:D,d(s){s&&E(e),t=!1,n()}}}function wt(l){let e,t,n,s=l[4].subject+"",o,u,f,i,r,d,m,_=l[4].lang+"",g,v,S,p,T,j,y,N,M,I,q=l[4].questions[l[5]].question+"",O,A,se,ie,Ie,Te,de,Me,ye,te,we,Z,oe,me,qe,re,le,je,ze;function Ne(b,V){return b[10]?cl:rl}let k=Ne(l),w=k(l);p=new Fe({});let $=!l[13]&&mt(l),L=!l[10]&&ht(l),W=ue(l[6]),R=[];for(let b=0;b<W.length;b+=1)R[b]=pt(at(l,W,b));let U=l[4].questions[l[5]].comment&&!l[10]&&bt(l),B=l[4].questions[l[5]].image&&gt(We(l)),K=l[10]&&l[12]&&vt(l),J=!l[10]&&yt(l);function Ce(b,V){return b[10]?al:dl}let he=Ce(l),X=he(l);return{c(){e=h("div"),t=h("header"),n=h("h1"),o=z(s),u=C(),f=h("div"),i=h("button"),i.textContent="← Predmeti",r=C(),d=h("small"),m=z("#"),g=z(_),v=z(` ·
              `),w.c(),S=C(),ke(p.$$.fragment),T=C(),$&&$.c(),j=C(),y=h("main"),N=h("div"),M=h("div"),I=h("div"),O=z(q),A=C(),L&&L.c(),se=C(),ie=h("div");for(let b=0;b<R.length;b+=1)R[b].c();Ie=C(),U&&U.c(),Te=C(),B&&B.c(),Me=C(),K&&K.c(),ye=C(),te=h("div"),J&&J.c(),we=C(),Z=h("nav"),oe=h("button"),oe.textContent="← Nazad",me=C(),X.c(),qe=C(),re=h("button"),re.textContent="Sledeće →",a(n,"class","svelte-1b6l6dl"),a(i,"class","back svelte-1b6l6dl"),a(d,"class","svelte-1b6l6dl"),a(f,"class","toolbar svelte-1b6l6dl"),a(t,"class","svelte-1b6l6dl"),a(I,"class","question svelte-1b6l6dl"),a(ie,"class","options svelte-1b6l6dl"),a(M,"class","card svelte-1b6l6dl"),a(N,"class",de="question-container "+(l[4].questions[l[5]].image?"has-image":"no-image")+" svelte-1b6l6dl"),a(oe,"class","btn btn-neutral svelte-1b6l6dl"),a(re,"class","btn btn-primary svelte-1b6l6dl"),a(Z,"class","bottomNav svelte-1b6l6dl"),a(te,"class","bottomBar svelte-1b6l6dl"),a(y,"class","svelte-1b6l6dl"),a(e,"class","page svelte-1b6l6dl")},m(b,V){P(b,e,V),c(e,t),c(t,n),c(n,o),c(t,u),c(t,f),c(f,i),c(f,r),c(f,d),c(d,m),c(d,g),c(d,v),w.m(d,null),c(f,S),fe(p,f,null),c(f,T),$&&$.m(f,null),c(e,j),c(e,y),c(y,N),c(N,M),c(M,I),c(I,O),c(M,A),L&&L.m(M,null),c(M,se),c(M,ie);for(let F=0;F<R.length;F+=1)R[F]&&R[F].m(ie,null);c(M,Ie),U&&U.m(M,null),c(N,Te),B&&B.m(N,null),c(y,Me),K&&K.m(y,null),c(y,ye),c(y,te),J&&J.m(te,null),c(te,we),c(te,Z),c(Z,oe),c(Z,me),X.m(Z,null),c(Z,qe),c(Z,re),le=!0,je||(ze=[G(i,"click",Lt),G(oe,"click",l[17]),G(re,"click",l[16])],je=!0)},p(b,V){if((!le||V[0]&16)&&s!==(s=b[4].subject+"")&&H(o,s),(!le||V[0]&16)&&_!==(_=b[4].lang+"")&&H(g,_),k===(k=Ne(b))&&w?w.p(b,V):(w.d(1),w=k(b),w&&(w.c(),w.m(d,null))),b[13]?$&&($.d(1),$=null):$?$.p(b,V):($=mt(b),$.c(),$.m(f,null)),(!le||V[0]&48)&&q!==(q=b[4].questions[b[5]].question+"")&&H(O,q),b[10]?L&&(L.d(1),L=null):L?L.p(b,V):(L=ht(b),L.c(),L.m(M,se)),V[0]&2097856){W=ue(b[6]);let F;for(F=0;F<W.length;F+=1){const lt=at(b,W,F);R[F]?R[F].p(lt,V):(R[F]=pt(lt),R[F].c(),R[F].m(ie,null))}for(;F<R.length;F+=1)R[F].d(1);R.length=W.length}b[4].questions[b[5]].comment&&!b[10]?U?U.p(b,V):(U=bt(b),U.c(),U.m(M,null)):U&&(U.d(1),U=null),b[4].questions[b[5]].image?B?B.p(We(b),V):(B=gt(We(b)),B.c(),B.m(N,null)):B&&(B.d(1),B=null),(!le||V[0]&48&&de!==(de="question-container "+(b[4].questions[b[5]].image?"has-image":"no-image")+" svelte-1b6l6dl"))&&a(N,"class",de),b[10]&&b[12]?K?K.p(b,V):(K=vt(b),K.c(),K.m(y,ye)):K&&(K.d(1),K=null),b[10]?J&&(J.d(1),J=null):J?J.p(b,V):(J=yt(b),J.c(),J.m(te,we)),he===(he=Ce(b))&&X?X.p(b,V):(X.d(1),X=he(b),X&&(X.c(),X.m(Z,qe)))},i(b){le||(Y(p.$$.fragment,b),le=!0)},o(b){Q(p.$$.fragment,b),le=!1},d(b){b&&E(e),w.d(),ae(p),$&&$.d(),L&&L.d(),Ue(R,b),U&&U.d(),B&&B.d(),K&&K.d(),J&&J.d(),X.d(),je=!1,ee(ze)}}}function ml(l){let e,t,n,s,o,u,f,i,r=ue(ne),d=[];for(let m=0;m<r.length;m+=1)d[m]=_l(nl(l,r,m));return o=new Fe({}),{c(){e=h("label"),e.textContent="Predmet",t=C(),n=h("select");for(let m=0;m<d.length;m+=1)d[m].c();s=C(),ke(o.$$.fragment),a(e,"for","subject"),a(e,"class","svelte-1b6l6dl"),a(n,"id","subject"),a(n,"class","svelte-1b6l6dl"),l[0]===void 0&&Pe(()=>l[29].call(n))},m(m,_){P(m,e,_),P(m,t,_),P(m,n,_);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(n,null);Ae(n,l[0],!0),P(m,s,_),fe(o,m,_),u=!0,f||(i=[G(n,"change",l[29]),G(n,"change",l[19])],f=!0)},p(m,_){_[0]&1&&Ae(n,m[0])},i(m){u||(Y(o.$$.fragment,m),u=!0)},o(m){Q(o.$$.fragment,m),u=!1},d(m){m&&(E(e),E(t),E(n),E(s)),Ue(d,m),ae(o,m),f=!1,ee(i)}}}function hl(l){let e,t,n,s,o,u;return n=new Fe({}),{c(){e=h("button"),e.textContent="← Predmeti",t=C(),ke(n.$$.fragment),a(e,"class","back svelte-1b6l6dl")},m(f,i){P(f,e,i),P(f,t,i),fe(n,f,i),s=!0,o||(u=G(e,"click",Lt),o=!0)},p:D,i(f){s||(Y(n.$$.fragment,f),s=!0)},o(f){Q(n.$$.fragment,f),s=!1},d(f){f&&(E(e),E(t)),ae(n,f),o=!1,u()}}}function _l(l){let e;return{c(){e=h("option"),e.textContent=`${l[41].title}`,e.__value=l[41].id,zt(e,e.__value)},m(t,n){P(t,e,n)},p:D,d(t){t&&E(e)}}}function qt(l){let e,t;return{c(){e=h("div"),t=z(l[8]),a(e,"class","errorBox svelte-1b6l6dl")},m(n,s){P(n,e,s),c(e,t)},p(n,s){s[0]&256&&H(t,n[8])},d(n){n&&E(e)}}}function pl(l){let e,t,n,s;const o=[il,ol,sl],u=[];function f(i,r){return i[4]?i[4].questions.length===0?1:2:0}return e=f(l),t=u[e]=o[e](l),{c(){t.c(),n=et()},m(i,r){u[e].m(i,r),P(i,n,r),s=!0},p(i,r){let d=e;e=f(i),e===d?u[e].p(i,r):(Ge(),Q(u[d],1,1,()=>{u[d]=null}),Ke(),t=u[e],t?t.p(i,r):(t=u[e]=o[e](i),t.c()),Y(t,1),t.m(n.parentNode,n))},i(i){s||(Y(t),s=!0)},o(i){Q(t),s=!1},d(i){i&&E(n),u[e].d(i)}}}const Xe="ppl.index.",jt="ppl.subject";function Ct(l){const e=[...l];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function St(l){if(!l)return"";const e="/ppl2025/";return`${e.endsWith("/")?e:e+"/"}images/${l}`}function Lt(){location.hash="#/"}function bl(l,e,t){let n,s,o,u,f,i=null,r=0,d=[],m=!1,_="01-vazduhoplovni-propisi",g="",v=null,S=null,p=!1,T=[],j=0,y=[],N=!1;function M(k){return!!k&&(k===x||ne.some(w=>w.id===k))}function I(k){const w=ne.find($=>$.id===k);return k===x?"Greške":w?w.title:"PPL"}async function q(k){const w=location.hash||"",$=new URLSearchParams(w.split("?")[1]||""),L=new URLSearchParams(location.search),W=k||$.get("s")||L.get("s")||localStorage.getItem(jt)||ne[0].id;if(t(0,_=M(W)?W:ne[0].id),t(8,g=""),_===x){const R=ft(),U=[];for(const[B,K]of R.entries())try{const Ce=await fetch(`/ppl2025/data/${B}.json`,{cache:"no-store"});if(!Ce.ok)continue;const he=await Ce.json();for(const X of he.questions)K.has(X.id)&&U.push({...X})}catch{}t(4,i={subject:I(x),lang:"sr",version:1,questions:U}),t(5,r=0),O();return}else{try{const B=await fetch(`/ppl2025/data/${_}.json`,{cache:"no-store"});if(!B.ok)throw new Error(`HTTP ${B.status}`);t(4,i=await B.json())}catch{if(_!==ne[0].id){t(0,_=ne[0].id);try{const K=await fetch(`/ppl2025/data/${_}.json`,{cache:"no-store"});if(!K.ok)throw new Error(`HTTP ${K.status}`);t(4,i=await K.json()),t(8,g="Није нађен сет за претходни предмет. Учитан је подразумевани предмет.")}catch{t(8,g="Није нађен ниједан сет питања."),t(4,i={subject:I(_),lang:"sr",version:1,questions:[]})}}else t(8,g="Није нађен сет питања за изабрани предмет."),t(4,i={subject:I(_),lang:"sr",version:1,questions:[]})}const R=Number(localStorage.getItem(Xe+_)||"0");t(5,r=Number.isFinite(R)&&R>=0&&R<i.questions.length?R:0),O()}}function O(){if(t(7,m=!1),!i)return;const k=i.questions[r];t(6,d=Ct(k.options||[])),t(9,v=null),S!==null&&(clearTimeout(S),S=null),p||localStorage.setItem(Xe+_,String(r)),localStorage.setItem(jt,_);const w=new URL(location.href);w.hash=`#/quiz?s=${_}`,history.replaceState(null,"",w)}function A(){i&&(p&&T.length>0?(t(11,j=Math.min(j+1,T.length-1)),t(5,r=T[j])):t(5,r=(r+1)%i.questions.length),O())}function se(){i&&(p&&T.length>0?(t(11,j=Math.max(j-1,0)),t(5,r=T[j])):t(5,r=(r-1+i.questions.length)%i.questions.length),O())}function ie(){if(i&&!(p&&T.length>0)){if(_===x){t(5,r=Math.floor(Math.random()*i.questions.length)),O();return}t(5,r=Math.floor(Math.random()*i.questions.length)),O()}}function Ie(k){const w=(i==null?void 0:i.subject)??"PPL",$=k.options.map((L,W)=>`${String.fromCharCode(65+W)}. ${L.text}`).join(`
`);return`Објасни зашто је тачан одговор за предмет ${w} (PPL).
Питање: ${k.question}
Понудени одговори:
${$}`}function Te(k){const w=Ie(k),$=`https://chat.openai.com/?q=${encodeURIComponent(w)}`;window.open($,"_blank")}function de(k){_!==k&&(t(0,_=k),t(5,r=0),k!==x&&localStorage.setItem(Xe+_,"0"),t(7,m=!1),me(),q(_))}function Me(k){const $=k.target.value;de($)}function ye(k){const w=k.target,$=Number(w.value);Number.isFinite($)&&(t(5,r=Math.min(Math.max($,0),((i==null?void 0:i.questions.length)??1)-1)),O())}function te(k){var $;t(9,v=k);const w=!!(($=d[k])!=null&&$.isCorrect);if(p&&!N&&T.length>0)(y[j]===null||y[j]===void 0)&&t(28,y[j]=w,y);else if(w)if(S!==null&&clearTimeout(S),S=null,_===x){const L=i.questions[r],W=ft();for(const[R,U]of W.entries())U.has(L.id)&&tl(R,L.id);q(x)}else A();if(!w&&_!==x&&!p){const L=i.questions[r].id;ut(_,L)}}function we(){const k=d.findIndex(w=>w.isCorrect);k!==-1&&(t(9,v=k),S!==null&&(clearTimeout(S),S=null))}function Z(){i&&Te(i.questions[r])}Be(()=>q());function oe(){if(!i)return;const k=Math.min(20,i.questions.length),w=Ct(Array.from({length:i.questions.length},($,L)=>L)).slice(0,k);t(1,T=w),t(28,y=Array.from({length:k},()=>null)),t(11,j=0),t(12,N=!1),t(10,p=!0),t(5,r=T[0]),O()}function me(){t(10,p=!1),t(12,N=!1),t(1,T=[]),t(28,y=[]),t(11,j=0)}function qe(k){k.target.checked?oe():me()}function re(){if(!p)return;t(12,N=!0);const k=y.map((w,$)=>w===!1?T[$]:null).filter(w=>w!==null);if(_!==x)for(const w of k){const $=i.questions[w].id;ut(_,$)}}function le(){oe()}function je(){_=ot(this),t(0,_)}function ze(){r=ot(this),t(5,r)}const Ne=k=>{te(k),t(7,m=!0)};return l.$$.update=()=>{l.$$.dirty[0]&2&&t(2,n=T.length),l.$$.dirty[0]&268435456&&t(3,s=y.filter(k=>k===!0).length),l.$$.dirty[0]&12&&t(15,o=n>0?Math.round(s/n*100):0),l.$$.dirty[0]&12&&t(14,u=s>=Math.ceil(.75*n)),l.$$.dirty[0]&1&&t(13,f=_===x)},[_,T,n,s,i,r,d,m,g,v,p,j,N,f,u,o,A,se,ie,Me,ye,te,we,Z,me,qe,re,le,y,je,ze,Ne]}class gl extends De{constructor(e){super(),Ve(this,e,bl,pl,ve,{},null,[-1,-1])}}function Et(l,e,t){const n=l.slice();return n[6]=e[t],n}function Pt(l){let e;return{c(){e=h("span"),e.textContent="Verified questions",a(e,"class","badge svelte-mr2ygg"),a(e,"aria-label","Verified questions"),a(e,"title","Verified questions")},m(t,n){P(t,e,n)},d(t){t&&E(e)}}}function $t(l){let e,t,n,s,o,u,f,i,r,d=l[0][l[6].id]&&Pt();function m(){return l[3](l[6])}return{c(){e=h("button"),t=h("div"),n=h("div"),n.textContent=`${l[6].title}`,s=C(),d&&d.c(),o=C(),u=h("div"),u.textContent=`${l[6].id}`,f=C(),a(n,"class","title svelte-mr2ygg"),a(t,"class","titleRow svelte-mr2ygg"),a(u,"class","id svelte-mr2ygg"),a(e,"class","tile svelte-mr2ygg")},m(_,g){P(_,e,g),c(e,t),c(t,n),c(t,s),d&&d.m(t,null),c(e,o),c(e,u),c(e,f),i||(r=G(e,"click",m),i=!0)},p(_,g){l=_,l[0][l[6].id]?d||(d=Pt(),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},d(_){_&&E(e),d&&d.d(),i=!1,r()}}}function vl(l){let e,t,n,s,o,u,f,i,r,d,m,_,g,v,S,p,T,j,y,N;o=new Fe({});let M=ue(ne),I=[];for(let q=0;q<M.length;q+=1)I[q]=$t(Et(l,M,q));return{c(){e=h("div"),t=h("header"),n=h("h1"),n.textContent="Izaberi predmet",s=C(),ke(o.$$.fragment),u=C(),f=h("main"),i=h("div"),r=h("button"),d=h("div"),m=h("div"),m.textContent="MOJE GREŠKE",_=C(),g=h("span"),v=z(l[1]),S=C(),p=h("div"),p.textContent="Poseban režim gde se pojavljuju pitanja na kojima ste pogrešili. Kad tacno odgovorite ovde, pitanje se briše sa liste grešaka.",T=C();for(let q=0;q<I.length;q+=1)I[q].c();a(n,"class","svelte-mr2ygg"),a(t,"class","svelte-mr2ygg"),a(m,"class","title svelte-mr2ygg"),a(g,"class","badge badge-error svelte-mr2ygg"),a(g,"aria-label","Greške"),a(g,"title","Pitanja na kojima ste pogrešili"),a(d,"class","titleRow svelte-mr2ygg"),a(p,"class","id svelte-mr2ygg"),a(r,"class","tile tile-errors svelte-mr2ygg"),a(i,"class","grid svelte-mr2ygg"),a(f,"class","svelte-mr2ygg"),a(e,"class","page svelte-mr2ygg")},m(q,O){P(q,e,O),c(e,t),c(t,n),c(t,s),fe(o,t,null),c(e,u),c(e,f),c(f,i),c(i,r),c(r,d),c(d,m),c(d,_),c(d,g),c(g,v),c(r,S),c(r,p),c(i,T);for(let A=0;A<I.length;A+=1)I[A]&&I[A].m(i,null);j=!0,y||(N=G(r,"click",l[2]),y=!0)},p(q,[O]){if((!j||O&2)&&H(v,q[1]),O&1){M=ue(ne);let A;for(A=0;A<M.length;A+=1){const se=Et(q,M,A);I[A]?I[A].p(se,O):(I[A]=$t(se),I[A].c(),I[A].m(i,null))}for(;A<I.length;A+=1)I[A].d(1);I.length=M.length}},i(q){j||(Y(o.$$.fragment,q),j=!0)},o(q){Q(o.$$.fragment,q),j=!1},d(q){q&&E(e),ae(o),Ue(I,q),y=!1,N()}}}function It(l){const e=new URL(location.href);e.hash=`#/quiz?s=${encodeURIComponent(l)}`,location.href=e.toString()}function kl(l,e,t){let n={};async function s(){const r="";await Promise.all(ne.map(async d=>{try{const m=await fetch(`/ppl2025/data/${d.id}.json${r}`,{cache:"no-store"});if(!m.ok)throw new Error(`HTTP ${m.status}`);const _=await m.json();t(0,n={...n,[d.id]:!!_.verified})}catch{t(0,n={...n,[d.id]:!1})}}))}Be(s);let o=0;function u(){t(1,o=ll())}return Be(()=>{u();const r=setInterval(u,1e3);return()=>clearInterval(r)}),[n,o,()=>It("__errors__"),r=>It(r.id)]}class yl extends De{constructor(e){super(),Ve(this,e,kl,vl,ve,{})}}function wl(l){let e,t;return e=new yl({}),{c(){ke(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){ae(e,n)}}}function ql(l){let e,t;return e=new gl({}),{c(){ke(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){ae(e,n)}}}function jl(l){let e,t,n,s,o;const u=[ql,wl],f=[];function i(r,d){return d&1&&(e=null),e==null&&(e=!!r[0].startsWith("#/quiz")),e?0:1}return t=i(l,-1),n=f[t]=u[t](l),{c(){n.c(),s=et()},m(r,d){f[t].m(r,d),P(r,s,d),o=!0},p(r,[d]){let m=t;t=i(r,d),t!==m&&(Ge(),Q(f[m],1,1,()=>{f[m]=null}),Ke(),n=f[t],n||(n=f[t]=u[t](r),n.c()),Y(n,1),n.m(s.parentNode,s))},i(r){o||(Y(n),o=!0)},o(r){Q(n),o=!1},d(r){r&&E(s),f[t].d(r)}}}function Cl(l,e,t){let n="#/";function s(){t(0,n=location.hash||"#/")}return Be(()=>{s(),window.addEventListener("hashchange",s)}),[n]}class Sl extends De{constructor(e){super(),Ve(this,e,Cl,jl,ve,{})}}Xt();new Sl({target:document.getElementById("app")});
